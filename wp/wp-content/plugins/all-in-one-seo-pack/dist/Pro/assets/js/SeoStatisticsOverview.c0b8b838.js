import{a as C,m as $,x as D}from"./index.684c656d.js";import{S as A,u as G}from"./Statistic.5ff7e1a9.js";import{b as L}from"./Caret.2e43336b.js";import{C as N}from"./Tooltip.f699c54b.js";import{G as B}from"./Graph.4b01afda.js";import{a as M}from"./index.62c20ef8.js";import"./translations.d159963e.js";import{_ as V}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as a,s as u}from"./default-i18n.20001971.js";import{y as d,o as n,d as h,G as q,N as H,e as m,a as O,t as y,c as v,w,H as _,b as g,K as S,q as R}from"./runtime-dom.esm-bundler.d8b05b6d.js";const r="all-in-one-seo-pack",j={setup(){const{formatStatistic:t}=G();return{formatStatistic:t,rootStore:C(),searchStatisticsStore:$()}},components:{CoreLoader:L,CoreTooltip:N,Graph:B,Statistic:A,SvgCircleQuestionMark:M},props:{statistics:{type:Array,default(){return[]}},statisticsData:{type:Object,default(){return null}},view:{type:String,default:"grid"},showGraph:{type:Boolean,default:!0}},data(){return{statisticsStrings:[{name:"impressions",label:a("Search Impressions",r),tooltip:u(a("The %1$stotal number of times your website appeared in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"clicks",label:a("Total Clicks",r),tooltip:u(a("The %1$stotal number of clicks that your website received from search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"ctr",label:a("Avg. CTR",r),tooltip:u(a("The %1$saverage click-through rate of your content in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"position",label:a("Avg. Position",r),tooltip:u(a("The %1$saverage position of your content in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")},{name:"keywords",label:a("Total Keywords",r),tooltip:u(a("The %1$stotal number of keywords that your website ranks for in search results%2$s within the selected timeframe.",r),"<strong>","</strong>")}]}},computed:{seoStatistics(){const t=[];return this.statistics.forEach(s=>{const o=this.statisticsStrings.find(i=>i.name===s);o&&t.push({...o,data:this.getData(s)})}),t},style(){const t=[];switch(this.view){case"side-by-side":t.push({"grid-template-columns":`repeat(${this.statistics.length}, 1fr)`});break;case"grid":t.push({"grid-template-columns":`repeat(${Math.ceil(this.statistics.length/2)}, 1fr)`,"grid-template-rows":`repeat(${Math.ceil(this.statistics.length/2)}, 1fr)`});break}return t}},methods:{getData(t){var o,i,f,c,p;const s=this.statisticsData?this.statisticsData:(i=(o=this.searchStatisticsStore.data)==null?void 0:o.seoStatistics)==null?void 0:i.statistics;return s?{total:s[t]||0,difference:s.difference&&Number(s.difference[t])||0,direction:s.difference&&0>s.difference[t]?"down":"up",chart:(p=(c=(f=this.searchStatisticsStore.data)==null?void 0:f.seoStatistics)==null?void 0:c.intervals)==null?void 0:p.map(l=>({x:D(new Date(l.date+" 00:00:00"),this.rootStore.aioseo.data.dateFormat),y:l[t]?l[t]:0}))}:{total:0,difference:0,direction:"up",chart:[]}}}},z={class:"statistics-title"},E=["innerHTML"],F={class:"statistics-current"},K={class:"statistics-current-total"},P={key:0,class:"statistics-chart"};function I(t,s,o,i,f,c){const p=d("svg-circle-question-mark"),l=d("core-tooltip"),b=d("statistic"),k=d("graph"),x=d("core-loader");return n(),h("div",{class:S(["aioseo-seo-statistics-overview",{[o.view]:!0,"hide-graph":!o.showGraph}]),style:R(c.style)},[(n(!0),h(q,null,H(c.seoStatistics,(e,T)=>(n(),h("div",{key:T,class:"statistics"},[m("div",{class:S([{blurred:i.searchStatisticsStore.loading.seoStatistics}])},[m("div",z,[O(y(e.label)+" ",1),e.tooltip?(n(),v(l,{key:0},{tooltip:w(()=>[m("span",{innerHTML:e.tooltip},null,8,E)]),default:w(()=>[_(p)]),_:2},1024)):g("",!0)]),m("div",F,[m("div",K,y(i.formatStatistic(e.name,e.data.total)),1),_(b,{class:S(["statistics-current-difference","statistics-current-difference--"+e.data.direction]),difference:e.data.difference,type:e.name,showCurrent:!1,"tooltip-offset":"-90px,0"},null,8,["class","difference","type"])]),o.showGraph?(n(),h("div",P,[_(k,{series:[{name:e.label,data:e.data.chart}],height:60,preset:"overview","invert-y-axis":e.name==="position"},null,8,["series","invert-y-axis"])])):g("",!0)],2),i.searchStatisticsStore.loading.seoStatistics?(n(),v(x,{key:0,dark:""})):g("",!0)]))),128))],6)}const at=V(j,[["render",I]]);export{at as S};
