import{G as N}from"./constants.ee441da2.js";import{p as A,b as B,v as j,o as D,a as G,u as I,n as V}from"./index.684c656d.js";import{C as K}from"./Card.bf13def3.js";import{C as P}from"./Tabs.e0ecfe82.js";import{C as q}from"./SeoSiteAnalysisResults.f6d68881.js";import{u as H}from"./SeoSiteScore.747eac8a.js";import{C as F}from"./Blur.f5469924.js";import{C as W}from"./Index.dcc55865.js";import{S as Y}from"./Book.f5782e8e.js";import{S as Q}from"./Lab.8323a464.js";import"./translations.d159963e.js";import{_ as U}from"./_plugin-vue_export-helper.eefbdd86.js";import{l as w,y as i,o as r,d as h,H as m,b as y,e as t,t as _,G as J,N as X,c as b,w as u,a as T,m as Z,j as $,v as ee,u as a,K as se}from"./runtime-dom.esm-bundler.d8b05b6d.js";import{_ as d,s as x}from"./default-i18n.20001971.js";import{C as oe}from"./Tooltip.f699c54b.js";import{S as te}from"./Refresh.a0b52b84.js";import{a as re}from"./index.62c20ef8.js";import"./helpers.2304d5ee.js";import"./Caret.2e43336b.js";import"./Slide.53cdbff7.js";import"./vue-router.21860d65.js";import"./ProBadge.e29f5c16.js";import"./Information.5f425594.js";import"./helpers.aece81b9.js";import"./metabox.9787fdb7.js";import"./cleanForSlug.fc011207.js";import"./deburr.ef08c7b4.js";import"./toString.ddc58e67.js";import"./html.7cb59739.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.a2dfaed5.js";import"./regex.8a6101c0.js";import"./GoogleSearchPreview.110cab87.js";import"./Url.ee93195e.js";import"./Gear.532438a0.js";import"./Index.d097a08d.js";const k="all-in-one-seo-pack",ne={setup(l){const{errorObject:c,strings:p}=H({score:w(l.score)});return{analyzerStore:A(),composableStrings:p,errorObject:c,links:B}},components:{CoreSiteScore:W,SvgBook:Y,SvgDannieLab:Q},props:{score:Number,loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:j({yourOverallSiteScore:d("Your Overall Site Score",k),goodResult:x(d("A very good score is between %1$s%3$d and %4$d%2$s.",k),"<strong>","</strong>",50,75),forBestResults:x(d("For best results, you should strive for %1$s%3$d and above%2$s.",k),"<strong>","</strong>",70),readUltimateSeoGuide:d("Read the Ultimate WordPress SEO Guide",k)},this.composableStrings)}}},ae={class:"aioseo-seo-analysis"},ie={key:0,class:"seo-analysis-score"},le={key:1,class:"seo-analysis-description"},ce=["innerHTML"],ue=["innerHTML"],me={class:"d-flex"},de=["href"],_e={key:2,class:"seo-analysis-error"},pe={class:"error-title"},ge=["innerHTML"],he={class:"error-action-buttons"};function ye(l,c,p,s,e,g){const v=i("core-site-score"),z=i("svg-book"),n=i("svg-dannie-lab"),S=i("base-button");return r(),h("div",ae,[s.analyzerStore.analyzeError?y("",!0):(r(),h("div",ie,[m(v,{loading:p.loading,score:p.score,description:p.description,strokeWidth:1.75},null,8,["loading","score","description"])])),s.analyzerStore.analyzeError?y("",!0):(r(),h("div",le,[t("h2",null,_(e.strings.yourOverallSiteScore),1),t("div",{innerHTML:e.strings.goodResult},null,8,ce),t("div",{innerHTML:e.strings.forBestResults},null,8,ue),t("div",me,[m(z),t("a",{href:s.links.getDocUrl("ultimateGuide"),target:"_blank"},_(e.strings.readUltimateSeoGuide),9,de)])])),s.analyzerStore.analyzeError&&s.errorObject?(r(),h("div",_e,[m(n),t("p",pe,_(e.strings.anErrorOccurred),1),t("p",{class:"error-description",innerHTML:s.errorObject.description},null,8,ge),t("div",he,[(r(!0),h(J,null,X(s.errorObject.buttons,(o,R)=>(r(),b(S,{key:R,type:o.type,tag:o.tag?o.tag:"button",target:"_blank",href:o.url?o.url:"",size:"medium",loading:(o==null?void 0:o.runAgain)&&s.analyzerStore.analyzing,onClick:L=>o!=null&&o.runAgain?s.analyzerStore.runSiteAnalyzer():""},{default:u(()=>[T(_(o.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):y("",!0)])}const M=U(ne,[["render",ye]]),Se={class:"aioseo-seo-site-score"},fe={key:1,class:"aioseo-seo-site-score-cta"},ze=["href"],Ce={__name:"Analyze",setup(l){const c=w(0),{description:p,strings:s}=H({score:c}),e=A(),g=D(),v=G();Z(()=>{var n;return(n=e.homeResults)==null?void 0:n.score},n=>{c.value=n});const z=$(()=>({recommended:e.recommendedCount(),critical:e.criticalCount(),good:e.goodCount()}));return ee(()=>{var S;const n=(S=e.homeResults)==null?void 0:S.score;!n&&!g.isUnlicensed&&(e.analyzing=!0,e.runSiteAnalyzer()),c.value=n}),(n,S)=>(r(),h("div",Se,[a(g).isUnlicensed?(r(),b(a(F),{key:0},{default:u(()=>[m(a(M),{score:85,description:a(p)},null,8,["description"])]),_:1})):y("",!0),a(g).isUnlicensed?(r(),h("div",fe,[t("a",{href:a(v).aioseo.urls.aio.settings},_(a(s).enterLicenseKey),9,ze),T(" "+_(a(s).toSeeYourSiteScore),1)])):y("",!0),a(g).isUnlicensed?y("",!0):(r(),b(a(M),{key:2,score:c.value,description:a(p),loading:a(e).analyzing,summary:z.value},null,8,["score","description","loading","summary"]))]))}},f="all-in-one-seo-pack",ve={setup(){return{analyzerStore:A(),licenseStore:D(),optionsStore:I(),rootStore:G(),settingsStore:V()}},components:{CoreCard:K,CoreMainTabs:P,CoreSeoSiteAnalysisResults:q,CoreSeoSiteScoreAnalyze:Ce,CoreTooltip:oe,SvgCircleQuestionMark:re,SvgRefresh:te},data(){return{internalDebounce:!1,homeResults:{results:[],score:null},strings:{completeSeoChecklist:d("Complete SEO Checklist",f),refreshResults:d("Refresh Results",f),cardDescription:d("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",f)+" "+B.getDocLink(N.learnMore,"seoAnalyzer",!0)}}},computed:{tabs(){var c;const l=(c=this.homeResults)==null?void 0:c.score;return[{slug:"all-items",label:d("All Items",f),analyze:{classColor:"black",count:l?this.analyzerStore.allItemsCount():0}},{slug:"critical",label:d("Important Issues",f),analyze:{classColor:"red",count:l?this.analyzerStore.criticalCount():0}},{slug:"recommended-improvements",label:d("Recommended Improvements",f),analyze:{classColor:"blue",count:l?this.analyzerStore.recommendedCount():0}},{slug:"good-results",label:d("Good Results",f),analyze:{classColor:"green",count:l?this.analyzerStore.goodCount():0}}]}},methods:{processChangeTab(l){this.internalDebounce||(this.internalDebounce=!0,this.settingsStore.changeTab({slug:"seoAuditChecklist",value:l}),setTimeout(()=>{this.internalDebounce=!1},50))},async refresh(){this.analyzerStore.analyzing=!0,await this.analyzerStore.runSiteAnalyzer({refresh:!0}),this.analyzerStore.getSiteAnalysisResults().then(()=>{this.homeResults=this.analyzerStore.homeResults,this.analyzerStore.analyzing=!1})}},mounted(){this.homeResults=this.analyzerStore.homeResults}},be={class:"aioseo-seo-audit-checklist"},ke=["innerHTML"],Re={class:"label"};function Ae(l,c,p,s,e,g){var O;const v=i("core-seo-site-score-analyze"),z=i("core-card"),n=i("svg-circle-question-mark"),S=i("core-tooltip"),o=i("svg-refresh"),R=i("base-button"),L=i("core-main-tabs"),E=i("core-seo-site-analysis-results");return r(),h("div",be,[m(z,{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:u(()=>[m(v)]),_:1}),(s.rootStore.isPro&&s.licenseStore.licenseKey||s.optionsStore.internalOptions.internal.siteAnalysis.connectToken)&&((O=e.homeResults)!=null&&O.score)?(r(),b(z,{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:u(()=>[t("span",null,_(e.strings.completeSeoChecklist),1),m(S,null,{tooltip:u(()=>[t("span",{innerHTML:e.strings.cardDescription},null,8,ke)]),default:u(()=>[m(n)]),_:1})]),"header-extra":u(()=>[m(R,{class:"refresh-results",type:"gray",size:"small",onClick:g.refresh,loading:s.analyzerStore.analyzing},{default:u(()=>[m(o),T(" "+_(e.strings.refreshResults),1)]),_:1},8,["onClick","loading"])]),tabs:u(()=>[m(L,{tabs:g.tabs,showSaveButton:!1,active:s.settingsStore.settings.internalTabs.seoAuditChecklist,internal:"",onChanged:g.processChangeTab,"skinny-tabs":""},{"var-tab":u(({tab:C})=>[t("span",{class:se(["round",C.analyze.classColor])},_(C.analyze.count||0),3),t("span",Re,_(C.label),1)]),_:1},8,["tabs","active","onChanged"])]),default:u(()=>{var C;return[((C=e.homeResults)==null?void 0:C.results)!==null?(r(),b(E,{key:0,section:s.settingsStore.settings.internalTabs.seoAuditChecklist,"all-results":e.homeResults.results,"show-instructions":""},null,8,["section","all-results"])):y("",!0)]}),_:1})):y("",!0)])}const cs=U(ve,[["render",Ae]]);export{cs as default};
