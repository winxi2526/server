import{u as pt,d as mt}from"./vue-router.21860d65.js";import{N as K,n as gt,a as ht,b as Mt}from"./index.684c656d.js";import{a as $}from"./addons.20532c13.js";import{u as Bt,a as Ot}from"./RequiresUpdate.a163da8f.js";import{C as Ft}from"./Index.518fc16a.js";import{n as kt}from"./numbers.9fc174f3.js";import{u as W}from"./WpTable.cd53d40a.js";import{C as st}from"./Table.9a5979d1.js";import{b as ft}from"./date.10ef6814.js";import{u as ot}from"./PostTypes.dafa8837.js";import{D as Nt}from"./datetime.f197aeae.js";import{C as bt}from"./Tooltip.f699c54b.js";import{L as nt,a as Vt,_ as _t,b as vt,c as St,d as wt,e as yt,u as It}from"./Index.5de57793.js";import{S as qt,q as Ut}from"./index.62c20ef8.js";import"./translations.d159963e.js";import{_ as Q}from"./_plugin-vue_export-helper.eefbdd86.js";import{j as H,y as f,o as p,d as M,c as P,w as u,e as i,t as r,a as R,H as h,b as A,K as G,J,l as O,v as it,n as Pt,r as at,u as y,z as Et,q as Kt,G as zt,N as Ht}from"./runtime-dom.esm-bundler.d8b05b6d.js";import{_ as a,s as D}from"./default-i18n.20001971.js";import{a as At,C as Yt}from"./Caret.2e43336b.js";import{S as tt}from"./External.5ab5cd1b.js";import{C as Tt}from"./Tabs.e0ecfe82.js";import{a as lt,b as rt,S as ut}from"./Affiliate.fc891890.js";import{S as ct}from"./Suggestion.5b45a24e.js";import{S as Rt}from"./Refresh.a0b52b84.js";import dt from"./Overview.93783a72.js";import{G as jt}from"./constants.ee441da2.js";import{u as Gt}from"./JsonValues.3fcfec97.js";import{B as Jt}from"./Checkbox.a4e60e91.js";import{B as Wt}from"./Textarea.7dcf0faf.js";import{C as Qt}from"./Card.bf13def3.js";import{C as Xt}from"./ExcludePosts.5d801a62.js";import{B as Zt}from"./HighlightToggle.1d5d8a1c.js";import{G as $t,a as te}from"./Row.755a571f.js";import{C as ee}from"./PostTypeOptions.bccf5191.js";import{C as se}from"./SettingsRow.892a6d38.js";import"./helpers.2304d5ee.js";import"./upperFirst.d10eb25f.js";import"./toString.ddc58e67.js";import"./RequiresUpdate.108a73ad.js";import"./license.a1ca2d82.js";import"./allowed.d1f2b87f.js";import"./deburr.ef08c7b4.js";/* empty css             */import"./params.af7ed354.js";import"./Header.200fe2be.js";import"./ScrollAndHighlight.6cfc4a22.js";import"./ScrollTo.81bea8a7.js";import"./LicenseKeyBar.c60d143b.js";import"./LogoGear.ffb86d6f.js";import"./AnimatedNumber.da8dc531.js";import"./Logo.1d87eeb5.js";import"./Support.52306335.js";import"./Url.ee93195e.js";import"./Exclamation.e58309d9.js";import"./Gear.532438a0.js";import"./Slide.53cdbff7.js";import"./Download.333a2ef3.js";import"./regex.8a6101c0.js";import"./Index.f979fbbe.js";import"./Editor.2e93bf84.js";import"./tags.4b35a532.js";import"./isEqual.4ddce6d4.js";import"./_baseIsEqual.fbe0f200.js";import"./_getTag.f48446e8.js";import"./_baseClone.72ffba34.js";import"./_arrayEach.6af5abac.js";import"./_getAllKeysIn.4f27d7aa.js";import"./Plus.4801a669.js";import"./ProBadge.e29f5c16.js";import"./Information.5f425594.js";import"./AddonConditions.14b242fa.js";import"./Index.c75b76e1.js";import"./Blur.f5469924.js";import"./SeoSiteScore.747eac8a.js";import"./DonutChartWithLegend.f4279157.js";import"./Row.5aad101b.js";import"./RequiredPlans.6ae123d8.js";import"./Checkmark.39dd9d2f.js";import"./AddPlus.871c15d2.js";import"./External.9019c3ac.js";import"./Radio.351f457f.js";const V="aioseo-pro",oe={emits:["updated"],setup(t,s){const{editPost:l,viewPost:e}=ot(),n=I=>(C.setDomainsReportInnerPaginatedPage({domain:t.domain,page:w}),C.fetchDomainsReportInner({...I,additionalFilters:{domainIndex:t.activeDomain,domain:t.domain}}).then(()=>{d.value++,s.emit("updated")})),o="aioseo-domains-report-inner-",m=H(()=>o+Nt.now().toFormat("x")),{pageNumber:w,processPagination:v,refreshTable:b,resultsPerPage:S,searchTerm:k,wpTableKey:d,wpTableLoading:x}=W({changeItemsPerPageSlug:"aioseo-domains-report-inner",fetchData:n,resultsPerPage:5,tableId:m}),C=K();return{dateSqlToLocal:ft,editPost:l,linkAssistantStore:C,pageNumber:w,processPagination:v,refreshTable:b,resultsPerPage:S,searchTerm:k,tableId:m,viewPost:e,wpTableKey:d,wpTableLoading:x}},components:{CoreTooltip:bt,CoreWpTable:st,LinkAssistantConfirmationModal:nt,LinkAssistantEditablePhrase:Vt,SvgTrash:qt},props:{domain:{type:String,required:!0},rows:{type:Array,required:!0},activeDomain:{type:Number}},data(){return{activePost:-1,showModal:!1,action:"",selectedRows:null,bulkOptions:[{label:a("Delete",V),value:"delete"}],strings:{delete:a("Delete",V)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete these links for this domain?",V),areYouSureMultiple:a("Are you sure you want to delete these links for this domain?",V),areYouSureAll:a("Are you sure you want to delete all links for this domain?",V),actionCannotBeUndone:a("This action cannot be undone.",V),yesSingle:a("Yes, I want to delete these links",V),yesMultiple:a("Yes, I want to delete these links",V),yesAll:a("Yes, I want to delete all links",V),noChangedMind:a("No, I changed my mind",V)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",V)},{slug:"phrases",label:a("Phrases with Links",V)},{slug:"publish_date",label:a("Publish Date",V),width:"160px"},{slug:"delete",width:"50px"}]},shouldShowPagination(){var t;return 1<((t=this.rows[0])==null?void 0:t.totals.pages)},initialPageNumber(){if(this.linkAssistantStore.domainsReport.innerPagination===void 0||this.linkAssistantStore.domainsReport.innerPagination[this.domain]===void 0)return 1;const t=this.linkAssistantStore.domainsReport.innerPagination[this.domain];return t||1}},methods:{toggleShowMorePhrases(t){if(this.activePost===t){this.activePost=-1;return}this.activePost=t},deleteLink({postIndex:t,linkIndex:s}){this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkDelete({searchTerm:this.searchTerm,rows:this.rows,postIndex:t,linkIndex:s,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})},saveModifiedPhrase(t){if(!this.linkAssistantStore.domainsReport.rows[this.activeDomain])return;const s=Object.keys(this.linkAssistantStore.domainsReport.rows[this.activeDomain])[0];!s||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex]||!this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex]||this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase_html!==t.phraseHtml&&(this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase=t.phrase,this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].phrase_html=t.phraseHtml,this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex].anchor=t.anchor,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerLinkUpdate({domain:s,link:this.linkAssistantStore.domainsReport.rows[this.activeDomain][s][t.postIndex].links[t.phraseIndex]}).then(this.refreshTable).then(()=>{this.wpTableKey++,this.$emit("updated")}).finally(()=>{this.wpTableLoading=!1}))},maybeDoBulkAction({action:t,selectedRows:s}){!t||!s.length||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){if(this.showModal=!1,this.action==="delete")return this.wpTableLoading=!0,this.linkAssistantStore.domainsReportInnerBulk({searchTerm:this.searchTerm,action:this.action,domainIndex:this.activeDomain,linkIndexes:this.selectedRows,offset:this.pageNumber===1?0:(this.pageNumber-1)*this.resultsPerPage}).finally(()=>{this.refreshTable().then(()=>{this.$emit("updated"),this.wpTableLoading=!1})})}},created(){this.pageNumber=this.initialPageNumber}},ne={key:0,class:"domains-report-inner"},ie=["href"],ae={class:"row-actions"},le={class:"view"},re=["href"],ue={class:"edit"},ce=["href"],de={class:"date"};function pe(t,s,l,e,n,o){const m=f("link-assistant-editable-phrase"),w=f("svg-trash"),v=f("core-tooltip"),b=f("core-wp-table"),S=f("link-assistant-confirmation-modal");return l.rows&&l.rows.length?(p(),M("div",ne,[(p(),P(b,{class:"link-assistant-inner-table","bulk-options":n.bulkOptions,columns:o.columns,id:e.tableId,"initial-page-number":e.pageNumber,key:e.wpTableKey,loading:e.wpTableLoading,rows:l.rows,"show-pagination":o.shouldShowPagination,"show-search":!1,"show-table-footer":!1,totals:l.rows[0].totals,onPaginate:e.processPagination,onProcessBulkAction:o.maybeDoBulkAction},{post_title:u(({row:k})=>[i("strong",null,[i("a",{class:"edit-link",href:k.context.permalink,target:"_blank"},r(k.context.postTitle),9,ie)]),i("div",ae,[i("span",le,[i("a",{href:k.context.permalink,target:"_blank"},r(e.viewPost(k.context.postType.singular)),9,re),R(" | ")]),i("span",ue,[i("a",{href:k.context.editLink,target:"_blank"},r(e.editPost(k.context.postType.singular)),9,ce)])])]),phrases:u(({row:k,index:d})=>[h(m,{row:k,rowIndex:d,activeRow:n.activePost,domainsReport:"",onDelete:o.deleteLink,onToggleShowMorePhrases:o.toggleShowMorePhrases,onSaveModifiedPhrase:o.saveModifiedPhrase},null,8,["row","rowIndex","activeRow","onDelete","onToggleShowMorePhrases","onSaveModifiedPhrase"])]),publish_date:u(({row:k})=>[i("span",de,r(e.dateSqlToLocal(k.context.publishDate,"MMMM d, yyyy")),1)]),delete:u(({index:k})=>[h(v,{type:"action"},{tooltip:u(()=>[R(r(n.strings.delete),1)]),default:u(()=>[h(w,{onClick:d=>o.maybeDoBulkAction({action:"delete",selectedRows:[k]})},null,8,["onClick"])]),_:2},1024)]),_:1},8,["bulk-options","columns","id","initial-page-number","loading","rows","show-pagination","totals","onPaginate","onProcessBulkAction"])),h(S,{show:n.showModal,strings:n.modalStrings,selectedRows:n.selectedRows,onDoBulkAction:o.doBulkAction,onCloseModal:s[0]||(s[0]=k=>n.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])):A("",!0)}const me=Q(oe,[["render",pe]]),B="aioseo-pro",ge={setup(){const t=K(),s="aioseo-link-assistant-domains-report-wp-table",{pageNumber:l,processChangeItemsPerPage:e,processFetchTableData:n,processPagination:o,processSearch:m,processSort:w,searchTerm:v,wpTableKey:b,wpTableLoading:S}=W({changeItemsPerPageSlug:"linkAssistantDomainsReport",fetchData:t.fetchDomainsReport,tableId:s});return{linkAssistantStore:t,pageNumber:l,processChangeItemsPerPage:e,processFetchTableData:n,processPagination:o,processSearch:m,processSort:w,searchTerm:v,settingsStore:gt(),tableId:s,wpTableKey:b,wpTableLoading:S}},components:{CoreWpTable:st,DomainsReportInner:me,LinkAssistantConfirmationModal:nt,SvgCaret:At,SvgFile:Ut,SvgLinkExternal:tt},data(){return{numbers:kt,innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,action:null,bulkOptions:[{label:a("Delete",B),value:"delete"}],strings:{view:a("View",B),deleteAllLinks:a("Delete All Links",B)},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this domain?",B),areYouSureMultiple:a("Are you sure you want to delete all links for these domains?",B),areYouSureAll:a("Are you sure you want to delete all links for all domains?",B),actionCannotBeUndone:a("This action cannot be undone.",B),yesSingle:a("Yes, I want to delete this link",B),yesMultiple:a("Yes, I want to delete these links",B),yesAll:a("Yes, I want to delete all links",B),noChangedMind:a("No, I changed my mind",B)}}},computed:{columns(){return[{slug:"domain",label:a("Domain",B)},{slug:"posts",label:a("Posts",B),width:"90px"},{slug:"links",label:a("Links",B),width:"90px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{postCount(t){var l;const s=Object.keys(t)[0];return((l=t[s][0])==null?void 0:l.totals.total)||0},linkCount(t){var l;const s=Object.keys(t)[0];return((l=t[s][0])==null?void 0:l.totals.totalLinks)||0},isRowActive(t){return t===this.activeRow},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDoBulkAction({action:t,selectedRows:s}){s===!1||!t||(this.action=t,this.selectedRows=s,this.showModal=!0)},doBulkAction(){return this.showModal=!1,this.wpTableLoading=!0,this.linkAssistantStore.domainsReportBulk({action:this.action,searchTerm:this.searchTerm,rowIndexes:this.selectedRows}).then(this.processFetchTableData).finally(()=>{this.activeRow=-1,this.wpTableLoading=!1,this.wpTableKey++})},getInnerDomain(t){return Object.keys(t)[0]},getInnerDomainRows(t){return t[this.getInnerDomain(t)]},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1}},beforeMount(){this.$route.query&&(this.$route.query.hostname&&(this.searchTerm=this.$route.query.hostname,this.processSearch(this.$route.query.hostname)),this.$route.query.fullReport&&(this.searchTerm="",this.processPagination(1)))}},he={class:"aioseo-link-assistant-domains-report"},ke={class:"domain-name"},fe=["onClick"],be=["src"],_e={class:"row-actions"},ve=["href"],Se=["onClick"],we=["onClick"];function ye(t,s,l,e,n,o){const m=f("svg-file"),w=f("svg-link-external"),v=f("svg-caret"),b=f("domains-report-inner"),S=f("core-wp-table"),k=f("link-assistant-confirmation-modal");return p(),M("div",he,[(p(),P(S,{ref:"table","bulk-options":n.bulkOptions,columns:o.columns,id:e.tableId,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantDomainsReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.domainsReport.rows,totals:e.linkAssistantStore.domainsReport.totals,"show-items-per-page":"",onPaginate:o.doProcessPagination,onProcessBulkAction:o.maybeDoBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:o.doProcessSearch,onSortColumn:e.processSort},{domain:u(({row:d,index:x,editRow:C})=>[i("div",ke,[i("a",{href:"#",class:G({active:o.isRowActive(x)}),onClick:J(I=>{C(x),o.toggleRow(x)},["prevent"])},[i("img",{alt:"Domain Favicon",class:"favicon",src:`https://www.google.com/s2/favicons?sz=32&domain=${Object.keys(d)[0]}`},null,8,be),i("span",null,r(Object.keys(d)[0]),1)],10,fe)]),i("div",_e,[i("span",null,[i("a",{class:"view",href:"https://"+Object.keys(d)[0],target:"_blank"},[i("span",null,r(n.strings.view),1)],8,ve),R(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:J(I=>o.maybeDoBulkAction({action:"delete",selectedRows:x}),["prevent"])},[i("span",null,r(n.strings.deleteAllLinks),1)],8,Se)])])]),posts:u(({row:d})=>[i("div",null,[h(m),i("span",null,r(n.numbers.numberFormat(o.postCount(d))),1)])]),links:u(({row:d})=>[i("div",null,[h(w),i("span",null,r(n.numbers.numberFormat(o.linkCount(d))),1)])]),"toggle-button":u(({index:d,editRow:x})=>[i("button",{class:G(["toggle-row-button",{active:o.isRowActive(d)}]),onClick:C=>{x(d),o.toggleRow(d)}},[h(v)],10,we)]),"edit-row":u(({row:d})=>[(p(),P(b,{key:n.innerTableKey,domain:o.getInnerDomain(d),rows:o.getInnerDomainRows(d),activeDomain:n.activeRow,onUpdated:s[0]||(s[0]=x=>n.innerTableKey++)},null,8,["domain","rows","activeDomain"]))]),_:1},8,["bulk-options","columns","id","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),h(k,{show:n.showModal,strings:n.modalStrings,selectedRows:n.selectedRows,onDoBulkAction:o.doBulkAction,onCloseModal:s[1]||(s[1]=d=>n.showModal=!1)},null,8,["show","strings","selectedRows","onDoBulkAction"])])}const Ie=Q(ge,[["render",ye]]),xt=(t={})=>{const{post:s,postIndex:l,processAdditionalFilters:e,requestType:n}=t,o=O(!1),m=H(()=>{let b=K().linksReport.prioritizedPosts;return Array.isArray(b)&&(b=b.map(Number)),b.includes(parseInt(s.ID))});return{doRefresh:()=>{var b;o.value=!0,window.aioseoBus.$emit("updatingLinks",!0),K().linksRefresh({postIndex:(l==null?void 0:l.value)||l,postId:((b=s==null?void 0:s.value)==null?void 0:b.ID)||s.ID,[n]:!0}).finally(()=>{var S;o.value=!1,window.aioseoBus.$emit("updatingLinks",!1),e({filters:{postIndex:(l==null?void 0:l.value)||l,postId:((S=s==null?void 0:s.value)==null?void 0:S.ID)||s.ID}})})},isPrioritizedPost:m,refreshLoading:o}},Pe={class:"links-report-inner"},Ae={__name:"LinksReportInner",props:{post:{type:Object,required:!0},postIndex:{type:Number,required:!0},postId:{type:Number,required:!0},initialActiveTab:String},setup(t){const s="aioseo-pro",l=K(),e=t,n=O("suggestions-inbound"),o=O("inbound-internal"),m=O(0),w={refresh:a("Refresh",s)},v=H(()=>[{slug:"inbound-internal",icon:lt,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].inboundInternal,a("Inbound Internal",s))},{slug:"outbound-internal",icon:rt,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].outboundInternal,a("Outbound Internal",s))},{slug:"affiliate",icon:ut,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].affiliate,a("Affiliate",s))},{slug:"external",icon:tt,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].external,a("External",s))},{slug:"link-suggestions",icon:ct,name:D("%1$s %2$s",l.linksReport.counts[e.postIndex].suggestionsOutbound+l.linksReport.counts[e.postIndex].suggestionsInbound,a("Link Suggestions",s))}]),b=_=>{window.aioseoBus.$emit("updatingLinks",!0);const c={..._,additionalFilters:{postId:e.post.ID,postIndex:e.postIndex}};return l.fetchLinksReportInner(c).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1)})},{refreshTable:S,processAdditionalFilters:k}=W({fetchData:b}),d=(_,c)=>{o.value=_,c&&(n.value=c)},{doRefresh:x,isPrioritizedPost:C,refreshLoading:I}=xt({post:e.post,postIndex:e.postIndex,refreshTable:S,requestType:"linksReport",processAdditionalFilters:k}),{filteredSuggestionsOutbound:g}=It();return it(()=>{e.initialActiveTab&&Pt(()=>{d(e.initialActiveTab)})}),(_,c)=>{const F=f("base-button");return p(),M("div",Pe,[(p(),P(y(Tt),{class:"link-tabs",internal:"",key:m.value,tabs:v.value,active:o.value,onChanged:c[0]||(c[0]=T=>d(T))},{"var-tab-icon":u(({tab:T})=>[(p(),P(at(T.icon),{class:G([{warning:T.warning}])},null,8,["class"]))]),button:u(()=>[h(F,{class:"button-refresh",type:"gray",size:"medium",loading:y(I),disabled:y(C),onClick:y(x)},{default:u(()=>[h(y(Rt)),R(" "+r(w.refresh),1)]),_:1},8,["loading","disabled","onClick"])]),_:1},8,["tabs","active"])),o.value==="outbound-internal"?(p(),P(y(_t),{key:0,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:c[1]||(c[1]=T=>d("link-suggestions","suggestions-outbound")),onLinksUpdated:c[2]||(c[2]=T=>m.value++)},null,8,["post","postIndex","postId"])):A("",!0),o.value==="inbound-internal"?(p(),P(y(vt),{key:1,post:t.post,postIndex:t.postIndex,postId:t.postId,linksReport:"",onOpenSuggestions:c[3]||(c[3]=T=>d("link-suggestions","suggestions-inbound")),onLinksUpdated:c[4]||(c[4]=T=>m.value++)},null,8,["post","postIndex","postId"])):A("",!0),o.value==="affiliate"?(p(),P(y(St),{key:2,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:c[5]||(c[5]=T=>m.value++),linksReport:""},null,8,["post","postIndex","postId"])):A("",!0),o.value==="external"?(p(),P(y(wt),{key:3,post:t.post,postIndex:t.postIndex,postId:t.postId,onLinksUpdated:c[6]||(c[6]=T=>m.value++),linksReport:""},null,8,["post","postIndex","postId"])):A("",!0),o.value==="link-suggestions"?(p(),P(y(yt),{key:4,post:t.post,postIndex:t.postIndex,postId:t.postId,filteredSuggestionsOutbound:y(g)(t.post),initialTab:n.value,linksReport:"",onShowStandalone:c[7]||(c[7]=T=>_.showStandalone=!0),onSuggestionsTabChanged:c[8]||(c[8]=T=>n.value=T),onLinksUpdated:c[9]||(c[9]=T=>m.value++)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):A("",!0)])}}},q="aioseo-pro",Te={setup(){const t=K(),s=gt(),l="aioseo-link-assistant-links-report-wp-table",e=O(null),n=O({}),o=({name:T,selectedValue:Y})=>{T==="post-type"&&(n.value["post-type"]=Y,n.value.term="all"),e.value=t.linksReport.additionalFilters.filter(z=>z.name==="post-type"||z.dependsOn&&n.value["post-type"]===z.dependsOn.value)},m=()=>{n.value.term="all",n.value["post-type"]="",o({name:"post-type",selectedValue:""})},{editPost:w,viewPost:v}=ot(),{pageNumber:b,processAdditionalFilters:S,processChangeItemsPerPage:k,processFilterTable:d,processPagination:x,processSearch:C,processSort:I,refreshTable:g,searchTerm:_,wpTableKey:c,wpTableLoading:F}=W({changeItemsPerPageSlug:"linkAssistantLinksReport",fetchData:t.fetchLinksReport,resetSelectedFilters:m,selectedFilters:n,tableId:l});return{additionalFilters:e,dateSqlToLocal:ft,editPost:w,linkAssistantStore:t,pageNumber:b,processAdditionalFilterOptionSelected:o,processAdditionalFilters:S,processChangeItemsPerPage:k,processFilterTable:d,processPagination:x,processSearch:C,processSort:I,refreshTable:g,searchTerm:_,selectedFilters:n,settingsStore:s,tableId:l,viewPost:v,wpTableKey:c,wpTableLoading:F}},components:{CoreTooltip:bt,CoreWpTable:st,LinkAssistantConfirmationModal:nt,LinksReportInner:Ae,SvgCaret:At,SvgLinkAffiliate:ut,SvgLinkExternal:tt,SvgLinkInternalInbound:lt,SvgLinkInternalOutbound:rt,SvgLinkSuggestion:ct},data(){return{numbers:kt,initialActiveTab:"inbound-internal",innerTableKey:0,activeRow:-1,showModal:!1,selectedRows:null,bulkAction:null,strings:{deleteAllLinks:a("Delete All Links",q),inboundInternal:D(a("%1$sInbound Internal Links%2$sLinks from other posts to this post",q),"<strong>","</strong><br />"),outboundInternal:D(a("%1$sOutbound Internal Links%2$sLinks from this post to other posts",q),"<strong>","</strong><br />")},modalStrings:{areYouSureSingle:a("Are you sure you want to delete all links for this post?",q),actionCannotBeUndone:a("This action cannot be undone.",q),yesSingle:a("Yes, I want to delete all links",q),noChangedMind:a("No, I changed my mind",q)}}},computed:{columns(){return[{slug:"post_title",label:a("Post Title",q),width:"100%"},{slug:"publish_date",label:a("Publish Date",q),width:"170px"},{slug:"internal",label:a("Internal",q),width:"150px"},{slug:"affiliate",label:a("Affiliate",q),width:"90px"},{slug:"external",label:a("External",q),width:"90px"},{slug:"suggestions",label:a("Suggestions",q),width:"110px"},{slug:"toggle-button",label:"",width:"60px"}]}},methods:{getPostId(t){return parseInt(t)},isRowActive(t){return t===this.activeRow},maybeEditRow(t,s,l,e){if(!l){this.initialActiveTab=t,s(e),this.toggleRow(e);return}if(this.initialActiveTab===t){s(e),this.toggleRow(e);return}this.initialActiveTab=t,this.innerTableKey++},toggleRow(t){if(this.activeRow===t){this.activeRow=-1;return}this.activeRow=t},maybeDeleteAllLinks(t){t!==!1&&(this.selectedRows=t,this.showModal=!0)},deleteAllLinks(){this.showModal=!1;const t=this.linkAssistantStore.linksReport.rows[this.selectedRows].ID;if(t)return this.wpTableLoading=!0,this.linkAssistantStore.linksReportDeleteAll({postId:t}).finally(()=>{this.activeRow=-1,this.wpTableKey++,this.refreshTable()})},doProcessPagination(t){this.processPagination(t),this.activeRow=-1},doProcessSearch(t){this.processSearch(t),this.activeRow=-1},doProcessFilterTable(t){this.processFilterTable(t),this.activeRow=-1},doProcessAdditionalFilters(t){this.processAdditionalFilters(t),this.activeRow=-1}},beforeMount(){this.additionalFilters=this.linkAssistantStore.linksReport.additionalFilters.filter(t=>t.name==="post-type"||t.dependsOn&&this.selectedFilters["post-type"]===t.dependsOn.value),this.$route.query&&(Object.entries(this.$route.query).forEach(t=>{switch(t[0]){case"fullReport":this.processFilterTable({slug:"all"});break;case"postTitle":this.searchTerm=this.$route.query.postTitle,this.processSearch(this.searchTerm);break;case"linkingOpportunities":this.processFilterTable({slug:"linking-opportunities"});break;case"orphaned-posts":this.processFilterTable({slug:"orphaned-posts"});break}}),this.linkAssistantStore.setLinksReportCounts())}},Re={class:"aioseo-link-assistant-links-report"},xe={class:"post-title"},Le=["onClick"],Ce={key:0,class:"post-status-badge draft"},De={key:1,class:"post-status-badges"},Me={class:"post-status-badge future"},Be={class:"post-status-badge future"},Oe={class:"row-actions"},Fe=["href"],Ne=["href"],Ve=["onClick"],qe={key:0,class:"date"},Ue={class:"internal-links-count"},Ee=["onClick"],Ke={class:"aioseo-tooltip-wrapper"},ze=["innerHTML"],He=["onClick"],Ye={class:"aioseo-tooltip-wrapper"},je=["innerHTML"],Ge=["onClick"],Je=["onClick"],We=["onClick"],Qe=["onClick"];function Xe(t,s,l,e,n,o){const m=f("svg-link-internal-inbound"),w=f("core-tooltip"),v=f("svg-link-internal-outbound"),b=f("svg-link-suggestion"),S=f("svg-link-affiliate"),k=f("svg-link-external"),d=f("svg-caret"),x=f("LinksReportInner"),C=f("core-wp-table"),I=f("link-assistant-confirmation-modal");return p(),M("div",Re,[(p(),P(C,{ref:"table",class:"posts-table",id:e.tableId,"additional-filters":e.additionalFilters,columns:o.columns,filters:e.linkAssistantStore.linksReport.filters,"initial-items-per-page":e.settingsStore.settings.tablePagination.linkAssistantLinksReport,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:e.linkAssistantStore.linksReport.rows,"selected-filters":e.selectedFilters,"show-bulk-actions":!1,totals:e.linkAssistantStore.linksReport.totals,"show-items-per-page":"",onAdditionalFilterOptionSelected:e.processAdditionalFilterOptionSelected,onFilterTable:o.doProcessFilterTable,onPaginate:o.doProcessPagination,onProcessAdditionalFilters:o.doProcessAdditionalFilters,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:o.doProcessSearch,onSortColumn:e.processSort},{post_title:u(({row:g,index:_,editRow:c})=>{var F,T,Y,z,X,Z;return[i("div",xe,[i("a",{href:"#",class:G({active:o.isRowActive(_)}),onClick:J(et=>{c(_),o.toggleRow(_)},["prevent"])},[i("span",null,r(g.context.postTitle),1),["draft","private","pending"].includes(g.post_status)?(p(),M("span",Ce,r((Y=(T=(F=g.context)==null?void 0:F.postStatus)==null?void 0:T.label)==null?void 0:Y.toUpperCase()),1)):A("",!0),g.post_status==="future"?(p(),M("span",De,[i("span",Me,r((Z=(X=(z=g.context)==null?void 0:z.postStatus)==null?void 0:X.label)==null?void 0:Z.toUpperCase()),1),i("span",Be,r(e.dateSqlToLocal(g.post_date,"MMMM d, yyyy").toUpperCase()),1)])):A("",!0)],10,Le)]),i("div",Oe,[i("span",null,[i("a",{class:"view",href:g.context.permalink,target:"_blank"},[i("span",null,r(e.viewPost(g.context.postType.singular)),1)],8,Fe),R(" | ")]),i("span",null,[i("a",{class:"edit",href:g.context.editLink,target:"_blank"},[i("span",null,r(e.editPost(g.context.postType.singular)),1)],8,Ne),R(" | ")]),i("span",null,[i("a",{class:"delete-all-links",href:"#",onClick:J(et=>o.maybeDeleteAllLinks(_),["prevent"])},[i("span",null,r(n.strings.deleteAllLinks),1)],8,Ve)])])]}),publish_date:u(({row:g})=>[g.post_status==="publish"?(p(),M("span",qe,r(e.dateSqlToLocal(g.post_date,"MMMM d, yyyy")),1)):A("",!0)]),internal:u(({editRow:g,index:_,editRowActive:c})=>[i("div",Ue,[i("div",{onClick:F=>o.maybeEditRow("inbound-internal",g,c,_)},[i("div",Ke,[h(w,{class:"action"},{tooltip:u(()=>[i("span",{innerHTML:n.strings.inboundInternal},null,8,ze)]),default:u(()=>[h(m),i("span",null,r(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[_].inboundInternal)),1)]),_:2},1024)])],8,Ee),i("div",{onClick:F=>o.maybeEditRow("outbound-internal",g,c,_)},[i("div",Ye,[h(w,{class:"action"},{tooltip:u(()=>[i("span",{innerHTML:n.strings.outboundInternal},null,8,je)]),default:u(()=>[h(v),i("span",null,r(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[_].outboundInternal)),1)]),_:2},1024)])],8,He)])]),suggestions:u(({editRow:g,index:_,editRowActive:c})=>[i("div",{onClick:F=>o.maybeEditRow("link-suggestions",g,c,_)},[h(b),R(" "+r(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[_].suggestionsInbound+e.linkAssistantStore.linksReport.counts[_].suggestionsOutbound)),1)],8,Ge)]),affiliate:u(({editRow:g,index:_,editRowActive:c})=>[i("div",{onClick:F=>o.maybeEditRow("affiliate",g,c,_)},[h(S),R(" "+r(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[_].affiliate)),1)],8,Je)]),external:u(({editRow:g,index:_,editRowActive:c})=>[i("div",{onClick:F=>o.maybeEditRow("external",g,c,_)},[h(k),R(" "+r(n.numbers.numberFormat(e.linkAssistantStore.linksReport.counts[_].external)),1)],8,We)]),"toggle-button":u(({index:g,editRow:_})=>[i("button",{class:G(["toggle-row-button",{active:o.isRowActive(g)}]),onClick:c=>{_(g),o.toggleRow(g)}},[h(d)],10,Qe)]),"edit-row":u(({row:g,index:_})=>[(p(),P(x,{key:n.innerTableKey,post:g,postIndex:_,postId:o.getPostId(g.ID),initialActiveTab:n.initialActiveTab},null,8,["post","postIndex","postId","initialActiveTab"]))]),_:1},8,["id","additional-filters","columns","filters","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","selected-filters","totals","onAdditionalFilterOptionSelected","onFilterTable","onPaginate","onProcessAdditionalFilters","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),h(I,{show:n.showModal,selectedRows:n.selectedRows,strings:n.modalStrings,onDoBulkAction:o.deleteAllLinks,onCloseModal:s[0]||(s[0]=g=>n.showModal=!1)},null,8,["show","selectedRows","strings","onDoBulkAction"])])}const Ze=Q(Te,[["render",Xe]]),$e={class:"aioseo-link-assistant-post-report"},ts={key:0,class:"header-container"},es={class:"first-row"},ss={class:"second-row"},os={class:"first-column"},ns={class:"header"},is={key:1,class:"load-progress"},as={key:2,class:"header-container"},ls={class:"first-row"},rs={class:"second-row"},us={class:"first-column"},cs={class:"header"},ds={class:"actions"},ps=["href"],ms=["href"],gs={class:"second-column"},hs={__name:"PostReport",setup(t){const s="aioseo-pro",l=K(),e=O(null),n=O(0),o=O({}),m=O("inbound-internal"),w=O("suggestions-inbound"),v=O(4),b=O(!1),S=O(!1),k={backToLinksReport:a("Back to Links Report",s),loadingHeader:a("Loading Link Suggestions. Please wait...",s),refresh:a("Refresh",s)},d=H(()=>({...o.value,links:l.postReport})),x=H(()=>D(a('Internal Links & Suggestions for "%1$s"',s),o.value.context.postTitle)),C=H(()=>[{slug:"inbound-internal",icon:lt,name:D("%1$s %2$s",o.value.links.inboundInternal.totals.total,a("Inbound Internal",s))},{slug:"outbound-internal",icon:rt,name:D("%1$s %2$s",o.value.links.outboundInternal.totals.total,a("Outbound Internal",s))},{slug:"affiliate",icon:ut,name:D("%1$s %2$s",o.value.links.affiliate.totals.total,a("Affiliate",s))},{slug:"external",icon:tt,name:D("%1$s %2$s",o.value.links.external.totals.total,a("External",s))},{slug:"link-suggestions",icon:ct,name:D("%1$s %2$s",o.value.links.suggestionsOutbound.totals.total+o.value.links.suggestionsInbound.totals.total,a("Link Suggestions",s))}]),I=pt(),g=()=>{I.push({name:"links-report"})},_=(L,N)=>{m.value=L,N&&(w.value=N)},c=()=>{b.value=!1,S.value&&Pt(()=>{b.value=!0,2>v.value&&(v.value=4),v.value=v.value/2,setTimeout(c,v.value*1e3)})},{filter:F,processFetchTableData:T,processAdditionalFilters:Y}=W({fetchData:l.fetchPostReport}),{editPost:z,viewPost:X}=ot(),{doRefresh:Z,isPrioritizedPost:et,refreshLoading:Lt}=xt({post:o,postIndex:n,processAdditionalFilters:Y,requestType:"postReport"}),{filteredSuggestionsOutbound:Ct}=It();return Et(()=>{const L=mt();if(L.query){if(!L.query.postId){I.push({name:"links-report"});return}e.value=parseInt(L.query.postId),n.value=parseInt(L.query.postIndex),m.value=L.query.initialTab,w.value=L.query.initialSuggestionTab,o.value={ID:e.value,context:{postType:{singular:null}},links:{...l.postReport}}}}),it(()=>{l.resetPostReportState(),window.aioseoBus.$emit("updatingLinks",!0),b.value=!0,S.value=!0,setTimeout(c,v.value*1e3),F.value="all",T({postId:e.value}).then(L=>{L.body.links&&(o.value.links=L.body.links),L.body.context&&(o.value.context=L.body.context),l.postReport={...L.body.links}}).catch(L=>{console.error(L),I.push({name:"links-report"})}).finally(()=>{window.aioseoBus.$emit("updatingLinks",!1),b.value=!1,S.value=!1})}),(L,N)=>{const Dt=f("base-button");return p(),M("div",$e,[S.value?(p(),M("div",ts,[i("div",es,[i("a",{href:"#",onClick:J(g,["stop","prevent"])},[R(" ← "),i("span",null,r(k.backToLinksReport),1)])]),i("div",ss,[i("div",os,[i("span",ns,r(k.loadingHeader),1)])])])):A("",!0),b.value?(p(),M("div",is,[i("div",{class:"load-progress-value",style:Kt({animationDuration:v.value+"s"})},null,4)])):A("",!0),S.value?A("",!0):(p(),M("div",as,[i("div",ls,[i("a",{href:"#",onClick:J(g,["prevent"])},[R(" ← "),i("span",null,r(k.backToLinksReport),1)])]),i("div",rs,[i("div",us,[i("span",cs,r(x.value),1),i("div",ds,[i("a",{class:"view-post-link",href:o.value.context.permalink,target:"_blank"},r(y(X)(o.value.context.postType.singular)),9,ps),R(" | "),i("a",{class:"edit-post-link",href:o.value.context.editLink,target:"_blank"},r(y(z)(o.value.context.postType.singular)),9,ms)])]),i("div",gs,[h(Dt,{type:"blue",tag:"button",loading:y(Lt),disabled:y(et),onClick:y(Z)},{default:u(()=>[h(y(Rt)),R(" "+r(k.refresh),1)]),_:1},8,["loading","disabled","onClick"])])])])),h(y(Tt),{class:"link-tabs",internal:"",tabs:C.value,active:m.value,showSaveButton:!1,onChanged:N[0]||(N[0]=E=>_(E))},{"var-tab-icon":u(({tab:E})=>[(p(),P(at(E.icon),{class:G([{warning:E.warning}])},null,8,["class"]))]),_:1},8,["tabs","active"]),m.value==="outbound-internal"?(p(),P(y(_t),{key:3,post:d.value,postIndex:n.value,postId:e.value,"post-report":"",onOpenSuggestions:N[1]||(N[1]=E=>_("link-suggestions","suggestions-outbound"))},null,8,["post","postIndex","postId"])):A("",!0),m.value==="inbound-internal"?(p(),P(y(vt),{key:4,post:d.value,postIndex:n.value,postId:e.value,"post-report":"",onOpenSuggestions:N[2]||(N[2]=E=>_("link-suggestions","suggestions-inbound"))},null,8,["post","postIndex","postId"])):A("",!0),m.value==="affiliate"?(p(),P(y(St),{key:5,post:d.value,postIndex:n.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):A("",!0),m.value==="external"?(p(),P(y(wt),{key:6,post:d.value,postIndex:n.value,postId:e.value,"post-report":""},null,8,["post","postIndex","postId"])):A("",!0),m.value==="link-suggestions"?(p(),P(y(yt),{key:7,post:d.value,postIndex:n.value,postId:e.value,filteredSuggestionsOutbound:y(Ct)(o.value),initialTab:w.value,"post-report":"",onShowStandalone:N[3]||(N[3]=E=>L.showStandalone=!0),onSuggestionsTabChanged:N[4]||(N[4]=E=>w.value=E)},null,8,["post","postIndex","postId","filteredSuggestionsOutbound","initialTab"])):A("",!0)])}}},j="all-in-one-seo-pack",ks={setup(){return{rootStore:ht()}},components:{BaseHighlightToggle:Zt,CoreAlert:Yt,GridColumn:$t,GridRow:te},props:{type:{type:String,required:!0},options:{type:Object,required:!0},registeredPostStatuses:Object,excluded:{type:Array,default(){return[]}}},data(){return{strings:{label:a("Label:",j),name:a("Status:",j),noPostStatuses:a("No post statuses available.",j),noTaxonomies:a("No taxonomies available.",j),noPostStatusesDescription:a("All post statuses are set to noindex or your site does not have any post statuses registered that are supported by this feature.",j),noTaxonomiesDescription:a("All taxonomies are set to noindex or your site does not have any taxonomies registered that are supported by this feature.",j)}}},computed:{getRegisteredPostStatuses(){return this.registeredPostStatuses||this.rootStore.aioseo.postData},postStatuses(){return this.getRegisteredPostStatuses[this.type].filter(t=>!this.excluded.includes(t.status))}},methods:{emitInput(t){this.$emit("input",t)},updateValue(t,s){if(t){const e=this.options[this.type].included;e.push(s.status),this.options[this.type].included=e;return}const l=this.options[this.type].included.findIndex(e=>e===s.status);l!==-1&&this.options[this.type].included.splice(l,1)},getValue(t){return this.options[this.type].included.includes(t.status)},isActive(t){return this.options[this.type].included.findIndex(l=>l===t.status)!==-1}}},fs={class:"aioseo-post-status-options-toggle"},bs={class:"post-status-options-settings"};function _s(t,s,l,e,n,o){const m=f("core-alert"),w=f("base-highlight-toggle"),v=f("grid-column"),b=f("grid-row");return p(),M("div",fs,[i("div",bs,[o.postStatuses.length===0&&l.type==="postStatuses"?(p(),P(m,{key:0,type:"blue"},{default:u(()=>[i("strong",null,r(n.strings.noPostStatuses),1),R(" "+r(n.strings.noPostStatusesDescription),1)]),_:1})):A("",!0),o.postStatuses.length===0&&l.type==="taxonomies"?(p(),P(m,{key:1,type:"blue"},{default:u(()=>[i("strong",null,r(n.strings.noTaxonomies),1),R(" "+r(n.strings.noTaxonomiesDescription),1)]),_:1})):A("",!0),0<o.postStatuses.length?(p(),P(b,{key:2},{default:u(()=>[(p(!0),M(zt,null,Ht(o.postStatuses,(S,k)=>(p(),P(v,{md:"6",key:k},{default:u(()=>[h(w,{size:"medium",active:o.isActive(S),name:S.label,type:"checkbox",modelValue:o.getValue(S),"onUpdate:modelValue":d=>o.updateValue(d,S)},{default:u(()=>[R(r(S.label)+" ("+r(S.status)+") ",1)]),_:2},1032,["active","name","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1})):A("",!0)])])}const vs=Q(ks,[["render",_s]]),U="aioseo-pro",Ss={setup(){const{getJsonValue:t,setJsonValue:s}=Gt();return{GLOBAL_STRINGS:jt,getJsonValue:t,linkAssistantStore:K(),links:Mt,setJsonValue:s}},components:{BaseCheckbox:Jt,BaseTextarea:Wt,CoreCard:Qt,CoreExcludePosts:Xt,CorePostStatusOptions:vs,CorePostTypeOptions:ee,CoreSettingsRow:se},data(){return{initialAffiliateLinkPrefixes:"",strings:{settings:a("Link Settings",U),postTypes:a("Post Types",U),includeAllPostTypes:a("Include All Post Types",U),selectPostTypes:a("Select which Post Types you want to enable Link Assistant for.",U),postStatuses:a("Post Statuses",U),includeAllPostStatuses:a("Include All Post Statuses",U),selectPostStatuses:a("Select which Post Statuses you want to enable Link Assistant for.",U),skipSentences:a("Number of Sentences to Skip at Beginning",U),skipSentencesDescription:D(a("The amount of sentences at the beginning of the article that %1$s should not suggest internal links for.",U),"AIOSEO"),affiliatePrefix:a("Affiliate Link Prefix",U),affiliatePrefixDescription:D(a('Enter one or multiple link prefixes that %1$s should consider as affiliate links, e.g. "/go/", "/refer/" or "https://amazn.to".',U),"AIOSEO"),excludePostsPages:a("Exclude Posts / Pages",U),wordsToIgnore:a("Words to Ignore",U)}}},methods:{validateSkipSentences(t){0>t.target.value&&(t.target.value=0)}},beforeMount(){this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix,window.aioseoBus.$on("changes-saved",()=>{this.initialAffiliateLinkPrefixes=this.linkAssistantStore.options.main.affiliatePrefix})}},ws={class:"aioseo-link-assistant-settings"},ys={class:"aioseo-description"},Is=["innerHTML"],Ps={class:"aioseo-description"},As=["innerHTML"],Ts={class:"aioseo-description"},Rs={class:"aioseo-description"};function xs(t,s,l,e,n,o){const m=f("base-checkbox"),w=f("core-post-type-options"),v=f("core-settings-row"),b=f("core-post-status-options"),S=f("base-input"),k=f("base-select"),d=f("core-exclude-posts"),x=f("base-textarea"),C=f("core-card");return p(),M("div",ws,[h(C,{slug:"linkAssistantSettings","header-text":n.strings.settings},{default:u(()=>[h(v,{name:n.strings.postTypes},{content:u(()=>[h(m,{size:"medium",modelValue:e.linkAssistantStore.options.main.postTypes.all,"onUpdate:modelValue":s[0]||(s[0]=I=>e.linkAssistantStore.options.main.postTypes.all=I)},{default:u(()=>[R(r(n.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postTypes.all?A("",!0):(p(),P(w,{key:0,id:"postTypes",options:e.linkAssistantStore.options.main,excluded:["attachment","web-story"],type:"postTypes"},null,8,["options"])),i("div",ys,[R(r(n.strings.selectPostTypes)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostTypes",!0)},null,8,Is)])]),_:1},8,["name"]),h(v,{name:n.strings.postStatuses},{content:u(()=>[h(m,{size:"medium",modelValue:e.linkAssistantStore.options.main.postStatuses.all,"onUpdate:modelValue":s[1]||(s[1]=I=>e.linkAssistantStore.options.main.postStatuses.all=I)},{default:u(()=>[R(r(n.strings.includeAllPostStatuses),1)]),_:1},8,["modelValue"]),e.linkAssistantStore.options.main.postStatuses.all?A("",!0):(p(),P(b,{key:0,id:"postStatuses",options:e.linkAssistantStore.options.main,type:"postStatuses"},null,8,["options"])),i("div",Ps,[R(r(n.strings.selectPostStatuses)+" ",1),i("span",{innerHTML:e.links.getDocLink(e.GLOBAL_STRINGS.learnMore,"linkAssistantPostStatuses",!0)},null,8,As)])]),_:1},8,["name"]),h(v,{name:n.strings.skipSentences,align:""},{content:u(()=>[h(S,{modelValue:e.linkAssistantStore.options.main.skipSentences,"onUpdate:modelValue":s[2]||(s[2]=I=>e.linkAssistantStore.options.main.skipSentences=I),class:"settings-skip-sentences",type:"number",size:"medium",min:0,onKeyup:s[3]||(s[3]=I=>o.validateSkipSentences(I))},null,8,["modelValue"]),i("div",Ts,r(n.strings.skipSentencesDescription),1)]),_:1},8,["name"]),h(v,{class:"affiliate-prefix",name:n.strings.affiliatePrefix,align:""},{content:u(()=>[h(k,{multiple:"",taggable:"",options:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],modelValue:e.getJsonValue(e.linkAssistantStore.options.main.affiliatePrefix)||[],"onUpdate:modelValue":s[4]||(s[4]=I=>e.linkAssistantStore.options.main.affiliatePrefix=e.setJsonValue(I))},null,8,["options","modelValue"]),i("div",Rs,r(n.strings.affiliatePrefixDescription),1)]),_:1},8,["name"]),h(v,{name:n.strings.excludePostsPages,align:""},{content:u(()=>[h(d,{options:e.linkAssistantStore.options.main,type:"posts"},null,8,["options"])]),_:1},8,["name"]),h(v,{name:n.strings.wordsToIgnore},{content:u(()=>[h(x,{minHeight:200,autosize:!1,modelValue:e.linkAssistantStore.options.main.wordsToIgnore,"onUpdate:modelValue":s[5]||(s[5]=I=>e.linkAssistantStore.options.main.wordsToIgnore=I)},null,8,["modelValue"])]),_:1},8,["name"])]),_:1},8,["header-text"])])}const Ls=Q(Ss,[["render",xs]]),Cs={class:"aioseo-link-assistant"},ln={__name:"Main",setup(t){const s="all-in-one-seo-pack",l=mt(),e=pt(),n=H(()=>l.name==="overview"?dt:l.name==="domains-report"?Ie:l.name==="links-report"?Ze:l.name==="post-report"?hs:l.name==="settings"?Ls:dt),{getExcludedActivationTabs:o}=Bt(),{getExcludedUpdateTabs:m}=Ot(),w={pageName:a("Link Assistant",s)},v=H(()=>{const k=($.isActive("aioseo-link-assistant")?m(e,"aioseo-link-assistant"):o(e,"aioseo-link-assistant"))||[];return k.push("post-report"),k}),b=K(),S=ht();return it(()=>{window.aioseoBus.$on("changes-saved",()=>{b.getMenuData()}),S.isPro&&b.suggestionsScan.percent!==100&&$.isActive("aioseo-link-assistant")&&!$.requiresUpgrade("aioseo-link-assistant")&&$.hasMinimumVersion("aioseo-link-assistant")&&b.pollSuggestionsScan()}),(k,d)=>(p(),M("div",Cs,[h(y(Ft),{"page-name":w.pageName,"exclude-tabs":v.value,showTabs:y(l).name!=="post-report"},{default:u(()=>[(p(),P(at(n.value)))]),_:1},8,["page-name","exclude-tabs","showTabs"])]))}};export{ln as default};
