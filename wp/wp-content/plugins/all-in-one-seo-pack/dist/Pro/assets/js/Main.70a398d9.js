import{A as T,k as G,s as R,K as V,o as X}from"./index.684c656d.js";import{g as J}from"./helpers.2304d5ee.js";import{g as Q}from"./params.af7ed354.js";import{_ as S}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as d,d as m,e as n,y as v,a as b,t as p,J as g,G as N,N as P,Q as U,R as Y,H as u,q as Z,x as M,b as h,S as ee,L as C,K as te,O as L,P as O,c as x,w as y,$ as se,u as I,D as ie}from"./runtime-dom.esm-bundler.d8b05b6d.js";import"./translations.d159963e.js";import{_ as l}from"./default-i18n.20001971.js";import{b as j,C as K}from"./Caret.2e43336b.js";import{U as z,u as oe}from"./UserAvatar.48a5f7f3.js";import{t as ne}from"./html.7cb59739.js";import{t as ae}from"./tags.4b35a532.js";import{u as re}from"./Image.409452cc.js";import{u as de,S as le}from"./Upsell.94d1e940.js";import{C as ce}from"./Blur.f5469924.js";import"./Profile.12eaa3ae.js";import"./helpers.aece81b9.js";import"./metabox.9787fdb7.js";import"./cleanForSlug.fc011207.js";import"./deburr.ef08c7b4.js";import"./toString.ddc58e67.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.a2dfaed5.js";import"./regex.8a6101c0.js";import"./constants.ee441da2.js";import"./Index.c75b76e1.js";import"./Row.755a571f.js";import"./RequiredPlans.6ae123d8.js";import"./addons.20532c13.js";import"./upperFirst.d10eb25f.js";import"./license.a1ca2d82.js";const me={},pe={viewBox:"0 0 24 25",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-slider-handle",fill:"none"},_e=n("ellipse",{cx:"12.157",cy:"12.5",rx:"11.657",ry:"12",fill:"#B4B5B7"},null,-1),ve=n("circle",{cx:"12.157",cy:"12.157",r:"10.971",fill:"#F4F6F6"},null,-1),ue=n("path",{d:"m13.529 15.586v-7.2l4.68 3.6-4.68 3.6z",fill:"#33353A"},null,-1),he=n("path",{d:"m11.009 8.3858v7.2l-4.68-3.6 4.68-3.6z",fill:"#33353A"},null,-1),fe=[_e,ve,ue,he];function be(e,t){return d(),m("svg",pe,fe)}const W=S(me,[["render",be]]),B="aioseo-pro",ge={setup(){return{seoRevisionsStore:T()}},components:{SvgSliderHandle:W},props:{itemFrom:Object,itemTo:{type:[Object],required:!0}},data(){return{activeSliderHandle:"to",isSliderHandleActive:!1,showSliderHandleFrom:!!Q().from,strings:{compareTwoRevisions:l("Compare any two revisions",B),next:l("Next",B),previous:l("Previous",B)}}},watch:{itemTo(e){let t=this.itemFrom;this.showSliderHandleFrom||(t=this.$parent.getPreviousItemById(e.id)||null),t!==this.itemFrom&&(this.$parent.itemFromId=(t==null?void 0:t.id)||0),this.abstractFetchDiff(t,e)},itemFrom(e){if(!this.showSliderHandleFrom)return!1;this.$parent.itemFromId=(e==null?void 0:e.id)||0,this.abstractFetchDiff(e,this.itemTo)},showSliderHandleFrom(e){e&&this.setHandlePositionByItem("from");const t=this.$parent.getPreviousItemById(this.itemTo.id);this.$parent.itemFromId=(t==null?void 0:t.id)||0,this.abstractFetchDiff(t,this.itemTo)}},computed:{activeSliderHandleNode(){return this.activeSliderHandle==="from"?this.$refs.sliderHandleFrom:this.$refs.sliderHandleTo},btnHandleDisabled(){return this.$parent.isFetchingDiff},btnNextDisabled(){return this.$parent.seoRevisionsStore.items[0].id===this.itemTo.id||this.$parent.isFetchingDiff},btnPreviousDisabled(){return this.$parent.seoRevisionsStore.items[this.$parent.seoRevisionsStore.items.length-1].id===this.itemTo.id||this.$parent.isFetchingDiff},checkboxCompareModeDisabled(){return this.$parent.seoRevisionsStore.items[this.$parent.seoRevisionsStore.items.length-1].id===this.itemTo.id||this.$parent.isFetchingDiff},sliderMaxWidth(){const e=Math.min(1e3,this.$parent.seoRevisionsStore.items.length);let t=100;return 1<e&&(t=Math.min(1920,e*49)),`${t}px`}},methods:{abstractFetchDiff(e,t){this.$parent.isFetchingDiff=!0,this.seoRevisionsStore.fetchDiff({fromId:(e==null?void 0:e.id)||0,toId:t.id}).finally(()=>{this.$parent.isFetchingDiff=!1}),this.setHandlePositionByItem(),this.replaceHistoryState()},getMarks(){const e=[];for(const t of this.$refs.marks.querySelectorAll("div"))e.push({left:t.offsetLeft,id:parseInt(t.dataset.id)});return e},onClickBtnNext(){const e=this.$parent.getNextItemById(this.itemTo.id);if(!e)return!1;this.$parent.itemToId=e.id},onClickBtnPrevious(){const e=this.$parent.getPreviousItemById(this.itemTo.id);if(!e)return!1;this.$parent.itemToId=e.id},onClickMarks(e){if(this.$parent.isFetchingDiff)return!1;this.setItemIdByHandlePosition(this.parseHandlePosition(e.offsetX))},onInputCompareMode(){this.showSliderHandleFrom=!this.showSliderHandleFrom,this.showSliderHandleFrom||(this.activeSliderHandle="to")},onMousedownSliderHandle(){this.isSliderHandleActive=!0,document.addEventListener("mousemove",this.onMousemoveSlider)},onMousemoveSlider(e){const t=this.$refs.slider,s=this.$refs.slider.getBoundingClientRect();let a=Math.max(0,e.clientX-s.left);a=this.parseHandlePosition(a>t.offsetWidth?t.offsetWidth:a),this.activeSliderHandleNode.style.left=`${a}px`},parseHandlePosition(e){if(this.showSliderHandleFrom){const t=this.activeSliderHandleNode.offsetWidth/2;if(this.activeSliderHandle==="from"){const s=this.$refs.sliderHandleTo.offsetLeft;s-t<e&&(e=s-t)}else if(this.activeSliderHandle==="to"){const s=this.$refs.sliderHandleFrom.offsetLeft;e<s+t&&(e=s+t)}}return e},replaceHistoryState(){var e;if(window!=null&&window.history.replaceState){const t=new URL(window.location.href),s=t.searchParams;s.delete("from"),s.delete("to"),this.showSliderHandleFrom&&s.append("from",((e=this.itemFrom)==null?void 0:e.id)||0),s.append("to",this.itemTo.id),t.search=s.toString(),window.history.replaceState({},"",t.toString())}},setItemIdByHandlePosition(e){var a,o,i;const s=this.getMarks().reduce((c,r)=>Math.abs(r.left-e)<Math.abs(c.left-e)?r:c);if(this.activeSliderHandle==="from")return s.id>=this.itemTo.id&&(s.id=((a=this.$parent.getPreviousItemById(s.id))==null?void 0:a.id)||0),s.id===(((o=this.itemFrom)==null?void 0:o.id)||0)&&this.setHandlePositionByItem("from"),this.$parent.itemFromId=s.id,!1;this.showSliderHandleFrom&&s.id<=(((i=this.itemFrom)==null?void 0:i.id)||0)&&(s.id=this.$parent.getNextItemById(s.id).id),s.id===this.itemTo.id&&this.setHandlePositionByItem("to"),this.$parent.itemToId=s.id},setHandlePositionByItem(e=null){var o,i;let t=this.activeSliderHandle==="from"?((o=this.itemFrom)==null?void 0:o.id)||0:this.itemTo.id,s=this.activeSliderHandleNode;e==="from"?(t=((i=this.itemFrom)==null?void 0:i.id)||0,s=this.$refs.sliderHandleFrom):e==="to"&&(t=this.itemTo.id,s=this.$refs.sliderHandleTo);const a=this.$refs[`mark-${t}`][0];s.style.left=`${a.offsetLeft}px`}},mounted(){this.setHandlePositionByItem("to"),this.showSliderHandleFrom&&this.setHandlePositionByItem("from"),document.addEventListener("mouseup",()=>{if(!this.isSliderHandleActive)return!1;this.isSliderHandleActive=!1,document.removeEventListener("mousemove",this.onMousemoveSlider),this.setItemIdByHandlePosition(this.activeSliderHandleNode.offsetLeft)})}},ye={class:"aioseo-seo-revisions-comparison__controls"},Se={class:"aioseo-seo-revisions-comparison__controls__compare-mode"},Ie=["checked","disabled"],we={class:"aioseo-seo-revisions-comparison__controls__previous"},xe=["disabled"],$e=["aria-disabled"],Te=["data-id"],Re=["disabled"],Ne=["disabled"],He={class:"aioseo-seo-revisions-comparison__controls__next"},ke=["disabled"];function Fe(e,t,s,a,o,i){const c=v("svg-slider-handle");return d(),m("div",ye,[n("div",Se,[n("input",{type:"checkbox",checked:o.showSliderHandleFrom,disabled:i.checkboxCompareModeDisabled,onInput:t[0]||(t[0]=r=>i.onInputCompareMode())},null,40,Ie),b(" "+p(o.strings.compareTwoRevisions),1)]),n("div",we,[n("button",{class:"button",type:"button",disabled:i.btnPreviousDisabled||o.showSliderHandleFrom,onClick:t[1]||(t[1]=g(r=>i.onClickBtnPrevious(),["stop","exact"]))},p(o.strings.previous),9,xe)]),n("div",{ref:"slider",class:"aioseo-seo-revisions-comparison__controls__slider",style:Z({"max-width":i.sliderMaxWidth})},[n("div",{ref:"marks",class:"marks",role:"button","aria-disabled":i.btnHandleDisabled,onClick:t[2]||(t[2]=g(r=>i.onClickMarks(r),["stop","exact"]))},[(d(!0),m(N,null,P(e.$parent.seoRevisionsStore.items,r=>(d(),m("div",{"data-id":r.id,ref_for:!0,ref:`mark-${r.id}`,key:r.id},null,8,Te))),128))],8,$e),U(n("button",{ref:"sliderHandleFrom",class:"aioseo-seo-revisions-comparison__controls__slider__handle from",tabindex:"0",onMousedown:t[3]||(t[3]=g(r=>{o.activeSliderHandle="from",i.onMousedownSliderHandle()},["prevent"])),disabled:i.btnHandleDisabled},[u(c)],40,Re),[[Y,o.showSliderHandleFrom]]),n("button",{ref:"sliderHandleTo",class:"aioseo-seo-revisions-comparison__controls__slider__handle to",tabindex:"0",onMousedown:t[4]||(t[4]=g(r=>{o.activeSliderHandle="to",i.onMousedownSliderHandle()},["prevent"])),disabled:i.btnHandleDisabled},[u(c)],40,Ne)],4),n("div",He,[n("button",{class:"button",type:"button",disabled:i.btnNextDisabled||o.showSliderHandleFrom,onClick:t[5]||(t[5]=g(r=>i.onClickBtnNext(),["stop","exact"]))},p(o.strings.next),9,ke)])])}const Ee=S(ge,[["render",Fe],["__scopeId","data-v-3c08cfcb"]]),$="aioseo-pro",Ce={setup(){const{getAuthorEmailAndLogin:e}=oe();return{getAuthorEmailAndLogin:e,seoRevisionsStore:T()}},components:{CoreLoader:j,UtilUserAvatar:z},props:{revision:{type:Object,default(){return{}}},isCurrentVersion:Boolean},data(){return{isUpdating:!1,noteElements:{input:{maxlength:this.seoRevisionsStore.noteMaxlength,visible:!1,value:this.revision.note},btnAdd:{visible:!1},btnEdit:{visible:!1}},strings:{currentRevisionBy:l("Current Revision by",$),revisionBy:l("Revision by",$),addNote:l("Add Note",$),editNote:l("Edit Note",$),typeToAddNote:l("Type to add note",$)}}},watch:{revision(e){this.noteElements.input.value=e.note}},methods:{truncate:ne,focusInputNote(){setTimeout(()=>{this.$refs.itemWrapper.querySelector("input").focus()},50)},onBlurInputNote(){this.noteElements.input.value!==this.revision.note?this.updateNote():this.onKeyUpEscInputNote()},onKeyUpEnterInputNote(){this.noteElements.input.value!==this.revision.note&&this.updateNote()},onKeyUpEscInputNote(){this.noteElements.input.value=this.revision.note,this.setNoteElementVisibility("input",!1)},onClickBtnAddNote(){this.setNoteElementVisibility("input",!0),this.setNoteElementVisibility("btnAdd",!1),this.focusInputNote()},onClickBtnEditNote(){this.setNoteElementVisibility("input",!0),this.setNoteElementVisibility("btnEdit",!1),this.focusInputNote()},onFocusItem(){this.onMouseEnterItem()},onMouseEnterItem(){this.isNoteElementVisible("input")||(this.revision.note?this.setNoteElementVisibility("btnEdit",!0):this.setNoteElementVisibility("btnAdd",!0))},onMouseLeaveItem(){this.setNoteElementVisibility("btnAdd",!1),this.setNoteElementVisibility("btnEdit",!1)},isNoteElementVisible(e){return this.noteElements[e].visible},setNoteElementVisibility(e,t){this.noteElements[e].visible=t},updateNote(){this.isUpdating=!0,this.seoRevisionsStore.update({id:this.revision.id,payload:{note:this.noteElements.input.value}}).then(e=>{const t=this.seoRevisionsStore.items.findIndex(s=>s.id===e.body.item.id);this.seoRevisionsStore.items.splice(t,1,e.body.item),this.setNoteElementVisibility("input",!1)}).finally(()=>{this.isUpdating=!1})}}},Be=e=>(L("data-v-8277e3c6"),e=e(),O(),e),De={key:0,class:"aioseo-seo-revisions-comparison__item-meta__col"},Me={class:"aioseo-seo-revisions-comparison__item-meta__title"},Pe={class:"aioseo-seo-revisions-comparison__item-meta__col"},Le={class:"aioseo-seo-revisions-comparison__item-meta__author-avatar"},Oe={class:"aioseo-seo-revisions-comparison__item-meta__col"},Ae={class:"aioseo-wrapper"},Ve=["title"],Ue=["textContent"],je=["textContent"],Ke=Be(()=>n("span",null," ",-1)),ze=["textContent"],We={key:0,class:"aioseo-seo-revisions-comparison__item-meta__note"},qe={class:"text-truncate"},Ge=["maxlength","placeholder"],Xe={class:"aioseo-seo-revisions-comparison__item-meta__date"},Je={key:1,class:"aioseo-seo-revisions-comparison__item-meta__col"},Qe={key:2,class:"loader"};function Ye(e,t,s,a,o,i){const c=v("util-user-avatar"),r=v("core-loader");return s.revision?(d(),m("div",{key:0,class:te(["aioseo-seo-revisions-comparison__item-meta",{"aioseo-seo-revisions-comparison__item-meta--title-empty":!e.$slots.title}]),tabindex:"0",ref:"itemWrapper",onFocus:t[7]||(t[7]=_=>i.onFocusItem()),onMouseenter:t[8]||(t[8]=_=>i.onMouseEnterItem()),onMouseleave:t[9]||(t[9]=_=>i.onMouseLeaveItem())},[e.$slots.title?(d(),m("div",De,[n("div",Me,[M(e.$slots,"title",{},void 0,!0)])])):h("",!0),n("div",Pe,[n("div",Le,[u(c,{src:s.revision.author.avatar.url,size:s.revision.author.avatar.size},null,8,["src","size"])])]),n("div",Oe,[n("div",Ae,[n("div",{title:a.getAuthorEmailAndLogin(s.revision),class:"aioseo-seo-revisions-comparison__item-meta__author"},[s.isCurrentVersion?(d(),m("span",{key:0,textContent:p(o.strings.currentRevisionBy)},null,8,Ue)):(d(),m("span",{key:1,textContent:p(o.strings.revisionBy)},null,8,je)),Ke,n("span",{textContent:p(i.truncate(s.revision.author.display_name,30))},null,8,ze)],8,Ve),s.revision.note&&!i.isNoteElementVisible("input")?(d(),m("div",We,[n("span",qe,p(s.revision.note),1)])):h("",!0),i.isNoteElementVisible("input")?U((d(),m("input",{key:1,type:"text",maxlength:o.noteElements.input.maxlength,placeholder:o.strings.typeToAddNote,"onUpdate:modelValue":t[0]||(t[0]=_=>o.noteElements.input.value=_),onBlur:t[1]||(t[1]=g(_=>i.onBlurInputNote(),["prevent"])),onKeyup:[t[2]||(t[2]=C(g(_=>i.onKeyUpEnterInputNote(),["prevent"]),["enter"])),t[3]||(t[3]=C(g(_=>i.onKeyUpEscInputNote(),["prevent"]),["esc"]))],onKeydown:t[4]||(t[4]=C(g(()=>{},["prevent"]),["enter"]))},null,40,Ge)),[[ee,o.noteElements.input.value]]):h("",!0),i.isNoteElementVisible("btnEdit")?(d(),m("button",{key:2,class:"aioseo-seo-revisions-comparison__item-meta__btn-edit-note",onClick:t[5]||(t[5]=g(_=>i.onClickBtnEditNote(),["prevent"]))},p(o.strings.editNote),1)):h("",!0),i.isNoteElementVisible("btnAdd")?(d(),m("button",{key:3,class:"aioseo-seo-revisions-comparison__item-meta__btn-add-note",onClick:t[6]||(t[6]=g(_=>i.onClickBtnAddNote(),["prevent"]))},p(o.strings.addNote),1)):h("",!0)]),n("div",Xe,p(s.revision.date.created_formatted),1)]),e.$slots["btn-restore"]?(d(),m("div",Je,[M(e.$slots,"btn-restore",{},void 0,!0)])):h("",!0),o.isUpdating?(d(),m("div",Qe,[u(r)])):h("",!0)],34)):h("",!0)}const Ze=S(Ce,[["render",Ye],["__scopeId","data-v-8277e3c6"]]),f="aioseo-pro",et={setup(){const{getImageSourceOptionFiltered:e}=re(),{getObjectTypeLabelByOption:t,getTwitterCardLabelByOption:s}=de();return{getImageSourceOptionFiltered:e,getObjectTypeLabelByOption:t,getTwitterCardLabelByOption:s,seoRevisionsStore:T(),tagsStore:G()}},components:{CoreAlert:K},props:{itemFromId:Number,itemToId:Number,itemContext:String},data(){return{globalSmartTags:this.tagsStore.tags,strings:{imgPreviewBasedOnSettings:l("Image preview based on your current settings",f),imgPreviewBasedOnUrl:l("Image URL preview",f),noDifference:l("There are no differences between these two revisions.",f),robotsdefault:l("Use Default Settings",f),robotsnoindex:l("No Index",f),robotsnofollow:l("No Follow",f),robotsnoarchive:l("No Archive",f),robotsnotranslate:l("No Translate",f),robotsnoimageindex:l("No Image Index",f),robotsnosnippet:l("No Snippet",f),robotsnoodp:l("No ODP",f),robotsmaxsnippet:l("Max Snippet",f),robotsmaxvideopreview:l("Max Video Preview",f),robotsmaximagepreview:l("Max Image Preview",f)},tags:ae}},methods:{insertImageSourceLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{var c;const a=s.split("|")[1],o=R(a);let i=((c=this.getImageSourceOptionFiltered(o))==null?void 0:c.label)||"";i=a.indexOf("<ins>")!==-1?`<ins>${i}</ins>`:i,e=e.replace(`{optionValue|${a}}`,i)}),e},insertImagePreview(e,t=""){let s="img-preview--url",a=this.strings.imgPreviewBasedOnUrl;t.indexOf("twitter")!==-1?(s=" img-preview--twitter",a=this.strings.imgPreviewBasedOnSettings):t.indexOf("og")!==-1&&(s=" img-preview--facebook",a=this.strings.imgPreviewBasedOnSettings);const o=e.match(/\{imageUrl\|[^}]*/g);return Object.values(o??{}).forEach(i=>{const c=i.split("|")[1]||"",r=R(c),_=`<div class="img-preview ${s}"><img src="${r}" loading="lazy" alt="${a}" title="${a}" /></div>`;e=e.replace(`{imageUrl|${c}}`,c?_:"")}),e},insertObjectTypeLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{const a=s.split("|")[1],o=R(a),i=this.getObjectTypeLabelByOption(o);e=e.replace(`{optionValue|${a}}`,i)}),e},insertTwitterCardLabel(e){const t=e.match(/\{optionValue\|[^}]+/g);return Object.values(t??{}).forEach(s=>{const a=s.split("|")[1],o=R(a),i=this.getTwitterCardLabelByOption(o);e=e.replace(`{optionValue|${a}}`,i)}),e},buildCustomRobotsSetting(e){const t=e.match(/\{.[^}]+}/g);return Object.values(t??{}).forEach(s=>{const[a,o]=s.split("|"),i=a.replace("{",""),c=o.replace("}",""),r=this.strings[`robots${i}`];if(i.match(/maxsnippet|maxvideopreview|maximagepreview/)){e=e.replace(s,`${r}: ${c}`);return}const _=`<input style="opacity:1" type="checkbox" disabled="disabled" ${c?'checked="checked"':""} />`;e=e.replace(s,`<span>${r}:</span> ${_}`)}),e},replaceSmartTags(e,t){let s=e.match(/#[a-zA-Z0-9_-]{3,}/g);return s&&(s=[...new Set(s)],s.forEach(a=>{const o=this.filteredTags(a,t),c=(0<o.length?o:this.globalSmartTags).find(r=>r.id===a.replace("#",""));c!=null&&c.name&&(e=e.replaceAll(a,`<span class="tag">${c.name}</span>`))})),e},filteredTags(e,t){const s=t.charAt(0).toUpperCase()+t.slice(1),a=`${this.itemContext}${s}`;return Object.prototype.hasOwnProperty.call(this.tagsStore.context,a)?this.tags.context(a):[]},parseFieldDiff(e,t){return e.indexOf("#")!==-1&&(e=this.replaceSmartTags(e,t)),(t==="og_image_type"||t==="twitter_image_type")&&(e=this.insertImageSourceLabel(e),e=this.insertImagePreview(e,t)),(t==="og_image_custom_url"||t==="twitter_image_custom_url")&&(e=this.insertImagePreview(e)),t==="og_object_type"&&(e=this.insertObjectTypeLabel(e)),t==="twitter_card"&&(e=this.insertTwitterCardLabel(e)),t==="robots_all_settings"&&(e=this.buildCustomRobotsSetting(e)),e}},mounted(){this.$parent.isFetchingDiff=!0,this.seoRevisionsStore.fetchDiff({fromId:this.itemFromId,toId:this.itemToId}).finally(()=>{this.$parent.isFetchingDiff=!1})}},tt={class:"aioseo-seo-revisions-item-diff"},st=["innerHTML"],it=["innerHTML"];function ot(e,t,s,a,o,i){const c=v("core-alert");return d(),m("div",tt,[a.seoRevisionsStore.hasDiff?h("",!0):(d(),x(c,{key:0,type:"yellow"},{default:y(()=>[b(p(o.strings.noDifference),1)]),_:1})),(d(!0),m(N,null,P(a.seoRevisionsStore.seoRevisionsDiff,(r,_)=>(d(),m(N,null,[r.diff||!a.seoRevisionsStore.hasDiff?(d(),m("h3",{key:"label-"+_},p(r.label),1)):h("",!0),a.seoRevisionsStore.hasDiff?(d(),m("div",{innerHTML:i.parseFieldDiff(r.diff,r.key),key:"diff-"+_},null,8,st)):h("",!0),a.seoRevisionsStore.hasDiff?h("",!0):(d(),m("div",{innerHTML:i.parseFieldDiff(r.raw,r.key),key:"diff-"+_},null,8,it))],64))),256))])}const nt=S(et,[["render",ot],["__scopeId","data-v-66612bfe"]]),w="aioseo-pro",at={setup(){return{seoRevisionsStore:T()}},components:{Controls:Ee,CoreAlert:K,CoreLoader:j,ItemMeta:Ze,ItemsDiff:nt},data(){var e,t;return{btnRestoreLoading:!1,isFetchingDiff:!1,itemFromId:((e=this.seoRevisionsStore.itemFrom)==null?void 0:e.id)||0,itemToId:(t=this.seoRevisionsStore.itemTo)==null?void 0:t.id,itemContext:this.seoRevisionsStore.itemContext||"",restoreFailed:!1,strings:{compareRevisionsOf:l("Compare Revisions of",w),from:l("From:",w),goToEditor:l("Go to editor",w),pleaseReload:l("Something went wrong. Please, reload the page and try again.",w),restoreRevision:l("Restore This Revision",w),to:l("To:",w)}}},computed:{btnRestoreDisabled(){return this.seoRevisionsStore.items[0].id===this.itemToId},itemIds(){return J(this.seoRevisionsStore.items,"id")},itemFrom(){return this.seoRevisionsStore.items.find(e=>e.id===this.itemFromId)},itemTo(){return this.seoRevisionsStore.items.find(e=>e.id===this.itemToId)}},methods:{getNextItemById(e){const t=this.itemIds.indexOf(e);return this.seoRevisionsStore.items[t-1]||null},getPreviousItemById(e){const t=this.itemIds.indexOf(e);return this.seoRevisionsStore.items[t+1]||null},initRestore(){this.btnRestoreLoading=!0,this.seoRevisionsStore.restore({id:this.itemToId}).then(()=>(window.location.href=this.itemTo.urls.edit_object+"&aioseo-tab=seoRevisions",!1)).catch(()=>{this.restoreFailed=!0,this.btnRestoreLoading=!1})}}},rt={key:1,class:"aioseo-seo-revisions-comparison"},dt={class:"long-header"},lt={class:"text-truncate"},ct=["href"],mt=["href"],pt={class:"aioseo-seo-revisions-comparison__item-meta-wrapper"},_t={class:"aioseo-seo-revisions-comparison__diff"},vt={key:0,class:"loader"};function ut(e,t,s,a,o,i){const c=v("core-alert"),r=v("controls"),_=v("item-meta"),k=v("base-button"),F=v("items-diff"),E=v("core-loader");return a.seoRevisionsStore.error?(d(),x(c,{key:0,type:"red"},{default:y(()=>[b(p(a.seoRevisionsStore.error),1)]),_:1})):(d(),m("div",rt,[n("h1",dt,[b(p(o.strings.compareRevisionsOf)+" ",1),n("span",lt,[b("  “"),n("a",{href:i.itemTo.urls.edit_object},p(i.itemTo.object.title),9,ct),b("” ")])]),n("a",{href:i.itemTo.urls.edit_object},"← "+p(o.strings.goToEditor),9,mt),u(r,{"item-to":i.itemTo,"item-from":i.itemFrom},null,8,["item-to","item-from"]),n("div",pt,[i.itemFrom?(d(),x(_,{key:0,revision:i.itemFrom},{title:y(()=>[b(p(o.strings.from),1)]),_:1},8,["revision"])):h("",!0),u(_,{"is-current-version":o.itemToId===a.seoRevisionsStore.items[0].id,revision:i.itemTo},se({"btn-restore":y(()=>[u(k,{size:"small-table",type:"blue",disabled:i.btnRestoreDisabled,loading:o.btnRestoreLoading,onClick:t[0]||(t[0]=g(q=>i.initRestore(),["exact"]))},{default:y(()=>[b(p(o.strings.restoreRevision),1)]),_:1},8,["disabled","loading"])]),_:2},[i.itemFrom?{name:"title",fn:y(()=>[b(p(o.strings.to),1)]),key:"0"}:void 0]),1032,["is-current-version","revision"])]),o.restoreFailed?(d(),x(c,{key:0,type:"yellow","show-close":"",onCloseAlert:t[1]||(t[1]=q=>o.restoreFailed=!1)},{default:y(()=>[b(p(o.strings.pleaseReload),1)]),_:1})):h("",!0),n("div",_t,[u(F,{"item-from-id":o.itemFromId,"item-to-id":o.itemToId,"item-context":o.itemContext},null,8,["item-from-id","item-to-id","item-context"]),o.isFetchingDiff?(d(),m("div",vt,[u(E)])):h("",!0)])]))}const ht=S(at,[["render",ut],["__scopeId","data-v-d2cfe8af"]]),D="all-in-one-seo-pack",ft={components:{SvgSliderHandle:W},data(){return{strings:{compareTwoRevisions:l("Compare any two revisions",D),next:l("Next",D),previous:l("Previous",D)}}}},bt=e=>(L("data-v-3cd53777"),e=e(),O(),e),gt={class:"aioseo-seo-revisions-comparison__controls"},yt={class:"aioseo-seo-revisions-comparison__controls__compare-mode"},St=bt(()=>n("input",{type:"checkbox"},null,-1)),It={class:"aioseo-seo-revisions-comparison__controls__previous"},wt={class:"button",disabled:""},xt={class:"aioseo-seo-revisions-comparison__controls__slider"},$t={class:"marks"},Tt={class:"aioseo-seo-revisions-comparison__controls__slider__handle to",disabled:""},Rt={class:"aioseo-seo-revisions-comparison__controls__next"},Nt={class:"button",disabled:""};function Ht(e,t,s,a,o,i){const c=v("svg-slider-handle");return d(),m("div",gt,[n("div",yt,[St,b(" "+p(o.strings.compareTwoRevisions),1)]),n("div",It,[n("button",wt,p(o.strings.previous),1)]),n("div",xt,[n("div",$t,[(d(),m(N,null,P(15,r=>n("div",{key:r})),64))]),n("button",Tt,[u(c)])]),n("div",Rt,[n("button",Nt,p(o.strings.next),1)])])}const kt=S(ft,[["render",Ht],["__scopeId","data-v-3cd53777"]]),H=e=>(L("data-v-2c5e7d56"),e=e(),O(),e),Ft={class:"aioseo-seo-revisions-comparison__item-meta"},Et={class:"aioseo-seo-revisions-comparison__item-meta__col"},Ct={class:"aioseo-seo-revisions-comparison__item-meta__author-avatar"},Bt={class:"aioseo-seo-revisions-comparison__item-meta__col"},Dt={class:"aioseo-wrapper"},Mt={class:"aioseo-seo-revisions-comparison__item-meta__author"},Pt=H(()=>n("span",null," Revision by ",-1)),Lt=H(()=>n("div",{class:"aioseo-seo-revisions-comparison__item-meta__note"}," SEO Revision note ",-1)),Ot=H(()=>n("button",{class:"aioseo-seo-revisions-comparison__item-meta__btn-edit-note"}," Edit Note ",-1)),At=H(()=>n("div",{class:"aioseo-seo-revisions-comparison__item-meta__date"}," 1 week ago (2 Dec, 2022 @ 18:28:57) ",-1)),Vt={class:"aioseo-seo-revisions-comparison__item-meta__col"},Ut={__name:"ItemMeta",setup(e){const{currentUser:t}=V(T());return(s,a)=>(d(),m("div",Ft,[n("div",Et,[n("div",Ct,[u(I(z),{src:I(t).avatar.url,size:I(t).avatar.size},null,8,["src","size"])])]),n("div",Bt,[n("div",Dt,[n("div",Mt,[Pt,n("span",null,p(I(t).display_name),1)]),Lt,Ot]),At]),n("div",Vt,[M(s.$slots,"btn-restore",{},void 0,!0)])]))}},jt=S(Ut,[["__scopeId","data-v-2c5e7d56"]]),Kt={},zt={class:"aioseo-seo-revisions-item-diff"},Wt=ie('<h3 data-v-499413e7>SEO Title</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><span class="tag" data-v-499413e7>Post Title</span><span class="tag" data-v-499413e7>Separator</span><del data-v-499413e7><span class="tag" data-v-499413e7>Site Title</span></del></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><span class="tag" data-v-499413e7>Post Title</span><span class="tag" data-v-499413e7>Separator</span><ins data-v-499413e7><span class="tag" data-v-499413e7>Tagline</span></ins></td></tr></tbody></table></div><h3 data-v-499413e7>SEO Description</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><del data-v-499413e7><span data-v-499413e7>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s.</span></del></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><ins data-v-499413e7><span data-v-499413e7>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s.</span></ins></td></tr></tbody></table></div><h3 data-v-499413e7>Focus Keyword</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><del data-v-499413e7><span data-v-499413e7>Apple Pie</span></del></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><ins data-v-499413e7><span data-v-499413e7>Apple Pie</span></ins></td></tr></tbody></table></div><h3 data-v-499413e7>Additional Keywords</h3><div data-v-499413e7><table class="diff is-split-view" data-v-499413e7><tbody data-v-499413e7><tr data-v-499413e7><td class="diff-deletedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-minus" data-v-499413e7></span><del data-v-499413e7><span data-v-499413e7>Assistance</span></del><br data-v-499413e7><del data-v-499413e7><span data-v-499413e7>Explanation</span></del><br data-v-499413e7><del data-v-499413e7><span data-v-499413e7>Inspector</span></del><br data-v-499413e7><del data-v-499413e7><span data-v-499413e7>Championship</span></del><br data-v-499413e7><span data-v-499413e7>Smile</span></td><td class="diff-addedline" data-v-499413e7><span aria-hidden="true" class="dashicons dashicons-plus" data-v-499413e7></span><ins data-v-499413e7><span data-v-499413e7>Perspective</span></ins><br data-v-499413e7><ins data-v-499413e7><span data-v-499413e7>Family</span></ins><br data-v-499413e7><ins data-v-499413e7><span data-v-499413e7>Priority</span></ins><br data-v-499413e7><ins data-v-499413e7><span data-v-499413e7>Independence</span></ins><br data-v-499413e7><span data-v-499413e7>Smile</span></td></tr></tbody></table></div>',8),qt=[Wt];function Gt(e,t){return d(),m("div",zt,qt)}const Xt=S(Kt,[["render",Gt],["__scopeId","data-v-499413e7"]]),A="all-in-one-seo-pack",Jt={components:{Controls:kt,CoreBlur:ce,ItemMeta:jt,ItemsDiff:Xt,SeoRevisionsUpsell:le},data(){return{strings:{compareRevisionsOf:l("Compare Revisions of",A),goToEditor:l("Go to editor",A)}}}},Qt={class:"aioseo-seo-revisions-comparison"},Yt={class:"long-header"},Zt={class:"aioseo-seo-revisions-comparison__item-meta-wrapper"},es={class:"aioseo-seo-revisions-comparison__diff"};function ts(e,t,s,a,o,i){const c=v("controls"),r=v("base-button"),_=v("item-meta"),k=v("items-diff"),F=v("core-blur"),E=v("seo-revisions-upsell");return d(),m("div",Qt,[n("h1",Yt,[b(p(o.strings.compareRevisionsOf)+" “ ",1),n("a",{href:"#",onClick:t[0]||(t[0]=g(()=>{},["prevent"]))}," 8 Link Building Strategies You Need to Know "),b(" ” ")]),n("a",{href:"#",onClick:t[1]||(t[1]=g(()=>{},["prevent"]))}," ← "+p(o.strings.goToEditor),1),u(c),u(F,null,{default:y(()=>[n("div",Zt,[u(_,null,{"btn-restore":y(()=>[u(r,{size:"small-table",disabled:!0},{default:y(()=>[b(" Restore This Revision ")]),_:1})]),_:1})]),n("div",es,[u(k)])]),_:1}),u(E,{"parent-component-context":"comparison-ui"})])}const ss=S(Jt,[["render",ts],["__scopeId","data-v-5530d74a"]]),is={class:"wrap"},Bs={__name:"Main",setup(e){const{isUnlicensed:t}=V(X());return(s,a)=>(d(),m("div",is,[I(t)?(d(),x(I(ss),{key:1})):(d(),x(I(ht),{key:0}))]))}};export{Bs as default};
