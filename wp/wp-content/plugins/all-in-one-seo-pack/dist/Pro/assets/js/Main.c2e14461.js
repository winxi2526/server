import{d as Fe,u as Be}from"./vue-router.21860d65.js";import{r as B,a as Q,b as re,o as Ne,s as Se,n as ke,v as ze}from"./index.684c656d.js";import{a as Je}from"./addons.20532c13.js";import{u as We,a as je}from"./RequiresUpdate.a163da8f.js";import{C as qe}from"./Index.518fc16a.js";import{q as Ye,s as ge,j as Ge}from"./helpers.2304d5ee.js";import{C as W}from"./Card.bf13def3.js";import{C as le}from"./SettingsRow.892a6d38.js";import{S as ve,m as Ze,u as Ke,C as Xe}from"./Index.13d8541a.js";import"./translations.d159963e.js";import{_ as O}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as r,s as x}from"./default-i18n.20001971.js";import{y as c,o as u,c as k,$ as Qe,w as n,a as m,t as a,H as l,e as i,d as S,K,b as _,G as J,N as Y,O as $e,P as et,J as Z,l as G,j as me,u as tt,r as ot}from"./runtime-dom.esm-bundler.d8b05b6d.js";import{C as te}from"./Tooltip.f699c54b.js";import{S as Te}from"./Plus.4801a669.js";import{S as ne,p as st,B as rt,a as it,b as lt}from"./index.62c20ef8.js";import{G as ie,f as ye,a as Re,b as Le,c as nt}from"./constants.ee441da2.js";import{C as oe,e as at,c as dt,d as he,S as He}from"./Caret.2e43336b.js";import{S as se,_ as Ce}from"./Redirects.1b3b172a.js";import{D as fe}from"./datetime.f197aeae.js";import{B as ct}from"./Checkbox.a4e60e91.js";import{G as De,a as Pe}from"./Row.755a571f.js";import{S as ut}from"./Upload.a36aa329.js";import{C as be}from"./Index.f979fbbe.js";import{C as we}from"./Table.9a5979d1.js";import{S as Ue}from"./Download.333a2ef3.js";import{S as pt}from"./Exclamation.e58309d9.js";import{c as gt,b as Ve}from"./date.10ef6814.js";import{u as Ae}from"./WpTable.cd53d40a.js";import{u as xe}from"./Url.ee93195e.js";import{S as Ee}from"./Information.5f425594.js";import{S as mt}from"./Redirect.deb7ebbc.js";import{T as ht}from"./Slide.53cdbff7.js";import{u as _t}from"./JsonValues.3fcfec97.js";import{B as Me,S as ft}from"./Php.4e7fec95.js";import{C as St}from"./PostTypeOptions.bccf5191.js";import{T as vt,a as bt}from"./Row.5aad101b.js";import{l as wt}from"./license.a1ca2d82.js";import"./upperFirst.d10eb25f.js";import"./toString.ddc58e67.js";import"./RequiresUpdate.108a73ad.js";import"./allowed.d1f2b87f.js";import"./deburr.ef08c7b4.js";/* empty css             */import"./params.af7ed354.js";import"./Tabs.e0ecfe82.js";import"./ProBadge.e29f5c16.js";import"./Header.200fe2be.js";import"./ScrollAndHighlight.6cfc4a22.js";import"./ScrollTo.81bea8a7.js";import"./LicenseKeyBar.c60d143b.js";import"./LogoGear.ffb86d6f.js";import"./AnimatedNumber.da8dc531.js";import"./numbers.9fc174f3.js";import"./Logo.1d87eeb5.js";import"./Support.52306335.js";import"./Gear.532438a0.js";import"./External.9019c3ac.js";import"./escapeRegExp.80171632.js";import"./DatePicker.4947f855.js";import"./Calendar.ab3812e2.js";import"./pick.64ebc447.js";import"./_basePickBy.a75ee359.js";import"./_baseSet.a2dfaed5.js";import"./_getTag.f48446e8.js";import"./debounce.36488f98.js";import"./toNumber.cb55aa76.js";import"./isEqual.4ddce6d4.js";import"./_baseIsEqual.fbe0f200.js";import"./Redirects.a4c01581.js";import"./AddonConditions.14b242fa.js";import"./Index.c75b76e1.js";import"./Blur.f5469924.js";import"./RequiredPlans.6ae123d8.js";import"./Checkmark.39dd9d2f.js";import"./PostTypes.dafa8837.js";import"./HighlightToggle.1d5d8a1c.js";import"./Radio.351f457f.js";const X="aioseo-pro",yt={setup(){return{redirectsStore:B(),rootStore:Q()}},components:{CoreCard:W,CoreSettingsRow:le,SvgRightArrow:ve},data(){return{strings:{relocateSite:r("Relocate Site",X),descriptionClosed:r("Would you like to relocate your entire site to a new domain? Everything will be redirected except WordPress login and admin. Enabling this option will disable any site aliases or canonical settings.",X),description:r("By enabling this option you disabled any site aliases or canonical settings. Enter a domain to redirect everything, except WordPress login and admin.",X),oldSiteAddress:r("Your old site address",X),newSiteAddress:r("Your new site address",X),relocateToDomain:r("Relocate to domain",X)+":"}}},methods:{validateUrl:function(s){return s.length===0?null:Ye(s)}}},Rt={key:0},Ct={class:"urls aioseo-row"},Vt={class:"relocate-address"},kt={class:"desc"},Tt={class:"address"},Lt={class:"right-arrow"},Ht={class:"relocate-address"},Dt={class:"desc"},Pt={class:"address"},Ut={class:"aioseo-section-description"};function At(s,t,g,e,o,d){const h=c("base-toggle"),f=c("svg-right-arrow"),R=c("base-input"),C=c("core-settings-row"),y=c("core-card");return u(),k(y,{slug:"fullSiteRedirectsRelocate",toggles:e.redirectsStore.options.fullSite.relocate.enabled,disabled:!e.redirectsStore.options.fullSite.relocate.enabled},Qe({header:n(()=>[l(h,{modelValue:e.redirectsStore.options.fullSite.relocate.enabled,"onUpdate:modelValue":t[0]||(t[0]=v=>e.redirectsStore.options.fullSite.relocate.enabled=v)},null,8,["modelValue"]),i("span",null,a(o.strings.relocateSite),1)]),default:n(()=>[e.redirectsStore.options.fullSite.relocate.enabled?(u(),S("div",Rt,[i("div",Ct,[i("div",Vt,[i("div",kt,a(o.strings.oldSiteAddress)+":",1),i("div",Tt,a(e.rootStore.aioseo.urls.home),1)]),i("div",Lt,[l(f)]),i("div",Ht,[i("div",Dt,a(o.strings.newSiteAddress)+":",1),i("div",Pt,a(e.redirectsStore.options.fullSite.relocate.newDomain),1)])]),i("div",Ut,a(o.strings.description),1),l(C,{name:o.strings.relocateToDomain},{content:n(()=>[l(R,{type:"text",size:"medium",modelValue:e.redirectsStore.options.fullSite.relocate.newDomain,"onUpdate:modelValue":t[1]||(t[1]=v=>e.redirectsStore.options.fullSite.relocate.newDomain=v),class:K({"aioseo-error":d.validateUrl(e.redirectsStore.options.fullSite.relocate.newDomain)===!1,"aioseo-active":d.validateUrl(e.redirectsStore.options.fullSite.relocate.newDomain)===!0}),spellcheck:!1,"append-icon":"circle-check"},null,8,["modelValue","class"])]),_:1},8,["name"])])):_("",!0)]),_:2},[e.redirectsStore.options.fullSite.relocate.enabled?void 0:{name:"disabled",fn:n(()=>[m(a(o.strings.descriptionClosed),1)]),key:"0"}]),1032,["toggles","disabled"])}const xt=O(yt,[["render",At],["__scopeId","data-v-a77f2801"]]),q="aioseo-pro",Et={aliasedDomain:null},Mt={setup(){return{redirectsStore:B(),rootStore:Q()}},components:{CoreCard:W,CoreTooltip:te,SvgCirclePlus:Te,SvgRightArrow:ve,SvgTrash:ne},data(){return{strings:{siteAliases:r("Site Aliases",q),descriptionClosed:r("Site aliases are disabled because you have relocated your site to another domain.",q),description:r("A site alias is another domain that you want to be redirected to this site. For example, an old domain, or a subdomain. This will redirect all URLs, including WordPress login and admin. You will need to configure your system (DNS and server) to pass requests for these domains to this WordPress install.",q),aliasedDomain:r("Aliased Domain",q),alias:r("Alias",q),addNew:r("Add New",q),delete:r("Delete",q),addAliasesMessage:r("Add an alias redirect by clicking in 'Add New'.",q)},validRelocationURL:null}},computed:{parsedAliases(){return this.redirectsStore.options.fullSite.aliases.map(s=>s?JSON.parse(s):{})}},methods:{removeRow(s){this.redirectsStore.options.fullSite.aliases.splice(s,1),this.redirectsStore.options.fullSite.aliases.length===0&&this.addRow()},addRow(){this.redirectsStore.options.fullSite.aliases.push(JSON.stringify({...Et}))},updatePage(s,t,g){const e=JSON.parse(this.redirectsStore.options.fullSite.aliases[g]);e[s]=t,this.redirectsStore.options.fullSite.aliases[g]=JSON.stringify(e)}},mounted(){this.redirectsStore.options.fullSite.aliases.length===0&&this.addRow()}},It={class:"aioseo-section-description"},Ot={class:"redirects-options-table",cellspacing:"0",cellpadding:"0","aria-label":"Site Aliases"},Ft=i("td",null,null,-1),Bt=i("td",null,null,-1),Nt={key:0,class:"even"},zt={colspan:"4"},Jt={class:"aliased-domain"},Wt={class:"arrow-col"},jt={class:"actions"},qt={colspan:"4"};function Yt(s,t,g,e,o,d){const h=c("base-input"),f=c("svg-right-arrow"),R=c("svg-trash"),C=c("core-tooltip"),y=c("svg-circle-plus"),v=c("base-button"),V=c("core-card");return u(),k(V,{slug:"fullSiteRedirectsAliases",disabled:e.redirectsStore.options.fullSite.relocate.enabled},{header:n(()=>[i("span",null,a(o.strings.siteAliases),1)]),disabled:n(()=>[m(a(o.strings.descriptionClosed),1)]),default:n(()=>[i("div",It,a(o.strings.description),1),i("table",Ot,[i("thead",null,[i("tr",null,[i("td",null,a(o.strings.aliasedDomain),1),Ft,i("td",null,a(o.strings.alias),1),Bt])]),i("tbody",null,[d.parsedAliases.length?_("",!0):(u(),S("tr",Nt,[i("td",zt,a(o.strings.addAliasesMessage),1)])),(u(!0),S(J,null,Y(d.parsedAliases,(w,p)=>(u(),S("tr",{class:K({even:p%2===0}),key:p},[i("td",Jt,[l(h,{size:"medium",modelValue:w.aliasedDomain,"onUpdate:modelValue":[b=>w.aliasedDomain=b,b=>d.updatePage("aliasedDomain",b,p)]},null,8,["modelValue","onUpdate:modelValue"])]),i("td",Wt,[i("div",null,[l(f)])]),i("td",null,a(e.rootStore.aioseo.urls.home),1),i("td",jt,[l(C,{type:"action"},{tooltip:n(()=>[m(a(o.strings.delete),1)]),default:n(()=>[l(R,{onClick:b=>d.removeRow(p)},null,8,["onClick"])]),_:2},1024)])],2))),128))]),i("tfoot",null,[i("tr",null,[i("td",qt,[l(v,{size:"small-table",type:"black",onClick:d.addRow},{default:n(()=>[l(y),m(" "+a(o.strings.addNew),1)]),_:1},8,["onClick"])])])])])]),_:1},8,["disabled"])}const Gt=O(Mt,[["render",Yt]]),N="aioseo-pro",Zt={setup(){return{redirectsStore:B(),rootStore:Q()}},components:{CoreAlert:oe,CoreCard:W,CoreSettingsRow:le,SvgRightArrow:ve},data(){return{strings:{canonicalSettings:r("Canonical Settings",N),descriptionClosed:r("Canonical Settings are disabled because you have relocated your site to another domain.",N),currentSiteAddress:r("Your current site address",N),newSiteAddress:r("Your new site address",N),httpToHttps:r("Redirect from HTTP to HTTPS",N),httpToHttpsDesc:r("Force a redirect from HTTP to HTTPS",N),preferredDomain:r("Preferred domain",N),configureSiteUrl:x(r("You'll need to update your Site Address URL to match your new site address. %1$sUpdate Site Address URL%2$s.",N),`<a href="${this.rootStore.aioseo.urls.admin.generalSettings}">`,"</a>"),httpsAlert:x(r("%1$sWarning:%2$s ensure your HTTPS is working before forcing a redirect. %3$s",N),"<strong>","</strong>",re.getDocLink(ie.learnMore,"redirectCanonicalHttps",!0))},preferredDomainOptions:[{label:r("Leave domain as-is",N),value:""},{label:r("Add www to domain",N),value:"add-www"},{label:r("Remove www from domain",N),value:"remove-www"}]}},computed:{canonicalSiteAddress(){let s=this.rootStore.aioseo.urls.home;switch(this.redirectsStore.options.fullSite.canonical.httpToHttps&&(s=s.replace(/^http:/,"https:")),this.redirectsStore.options.fullSite.canonical.preferredDomain){case"add-www":s=s.match(/:\/\/www./)?s:s.replace(/:\/\//,"://www.");break;case"remove-www":s=s.replace(/:\/\/www./,"://");break}return s},preferredDomainValue(){let s=this.preferredDomainOptions.filter(t=>t.value===this.redirectsStore.options.fullSite.canonical.preferredDomain);return s||(s=this.preferredDomainOptions.filter(t=>t.value==="")),s}}},Kt={key:0},Xt={class:"urls aioseo-row"},Qt={class:"preview"},$t={class:"canonical-address"},eo={class:"desc"},to={class:"address"},oo={class:"right-arrow"},so={class:"canonical-address"},ro={class:"desc"},io={class:"address"},lo={key:0};function no(s,t,g,e,o,d){const h=c("base-toggle"),f=c("svg-right-arrow"),R=c("core-alert"),C=c("core-settings-row"),y=c("base-select"),v=c("core-card");return u(),k(v,{slug:"fullSiteRedirectsCanonical",toggles:e.redirectsStore.options.fullSite.canonical.enabled,disabled:e.redirectsStore.options.fullSite.relocate.enabled},{header:n(()=>[e.redirectsStore.options.fullSite.relocate.enabled?_("",!0):(u(),k(h,{key:0,modelValue:e.redirectsStore.options.fullSite.canonical.enabled,"onUpdate:modelValue":t[0]||(t[0]=V=>e.redirectsStore.options.fullSite.canonical.enabled=V)},null,8,["modelValue"])),i("span",null,a(o.strings.canonicalSettings),1)]),disabled:n(()=>[m(a(o.strings.descriptionClosed),1)]),default:n(()=>[e.redirectsStore.options.fullSite.canonical.enabled?(u(),S("div",Kt,[i("div",Xt,[i("div",Qt,[i("div",$t,[i("div",eo,a(o.strings.currentSiteAddress)+":",1),i("div",to,a(e.rootStore.aioseo.urls.home),1)]),i("div",oo,[l(f)]),i("div",so,[i("div",ro,a(o.strings.newSiteAddress)+":",1),i("div",io,a(d.canonicalSiteAddress),1)])]),d.canonicalSiteAddress!==e.rootStore.aioseo.urls.home?(u(),S("div",lo,[l(R,{type:"red",innerHTML:o.strings.configureSiteUrl},null,8,["innerHTML"])])):_("",!0)]),l(C,{name:o.strings.httpToHttps,class:"http-to-https"},{content:n(()=>[l(h,{modelValue:e.redirectsStore.options.fullSite.canonical.httpToHttps,"onUpdate:modelValue":t[1]||(t[1]=V=>e.redirectsStore.options.fullSite.canonical.httpToHttps=V)},null,8,["modelValue"]),m(" "+a(o.strings.httpToHttpsDesc)+" ",1),e.redirectsStore.options.fullSite.canonical.httpToHttps?(u(),k(R,{key:0,type:"yellow",innerHTML:o.strings.httpsAlert},null,8,["innerHTML"])):_("",!0)]),_:1},8,["name"]),l(C,{name:o.strings.preferredDomain,align:""},{content:n(()=>[l(y,{size:"large",options:o.preferredDomainOptions,modelValue:d.preferredDomainValue,"onUpdate:modelValue":t[2]||(t[2]=V=>e.redirectsStore.options.fullSite.canonical.preferredDomain=V.value)},null,8,["options","modelValue"])]),_:1},8,["name"])])):_("",!0)]),_:1},8,["toggles","disabled"])}const ao=O(Zt,[["render",no],["__scopeId","data-v-a9a551bd"]]),I="aioseo-pro",co={location:"site",header:null,value:null},uo={setup(){return{redirectsStore:B()}},components:{CoreCard:W,CoreTooltip:te,SvgCirclePlus:Te,SvgTrash:ne},data(){return{strings:{httpHeaders:r("HTTP Headers",I),description:r("Site headers are added across your site, including redirects. Redirect headers are only added to redirects.",I),location:r("Location",I),header:r("Header",I),value:r("Value",I),delete:r("Delete",I),addHeader:r("Add Header",I),addSecurityPresets:r("Add Security Presets",I),addCorsPresets:r("Add CORS Presets",I),addHeadersMessage:r("Add headers by clicking in the options below.",I),headerPlaceholder:r("Select a header",I)}}},computed:{parsedHeaders(){return this.redirectsStore.options.fullSite.httpHeaders.map(s=>s?JSON.parse(s):{})},locationOptions(){return[{label:r("Site",I),value:"site"},{label:r("Redirect",I),value:"redirect"}]},headerOptions(){const s=ye;return s.find(t=>t.groupLabel===r("Custom",I))||s.push({groupLabel:r("Custom",I),options:[{label:r("Custom",I),value:"custom"}]}),s}},methods:{removeRow(s){this.redirectsStore.options.fullSite.httpHeaders.splice(s,1),this.redirectsStore.options.fullSite.httpHeaders.length===0&&this.addRow()},addRow(s,t=!1){s||(s=co),s=JSON.stringify({...s}),(!t||t&&this.redirectsStore.options.fullSite.httpHeaders.filter(g=>g===s).length===0)&&this.redirectsStore.options.fullSite.httpHeaders.push(s)},addRows(s,t=!1){s.forEach(g=>this.addRow(g,t))},updateHeader(s,t,g){const e=JSON.parse(this.redirectsStore.options.fullSite.httpHeaders[g]);t=typeof t.value<"u"?t.value:t,t=typeof t=="object"&&t.length?t.map(o=>o.value):t,e[s]=t,s==="header"&&(e.value=""),this.redirectsStore.options.fullSite.httpHeaders[g]=JSON.stringify(e)},getHeaderValue(s,t,g=!1){let o=JSON.parse(this.redirectsStore.options.fullSite.httpHeaders[t])[s],d=null;if(g)return o;switch(s){case"location":o=this.locationOptions.find(h=>o===h.value),o||(o=this.locationOptions.find(h=>h.value==="site"));break;case"header":ye.forEach(h=>{const f=h.options.find(R=>o===R.value);f&&(o=f)});break;case"value":d=this.getHeaderValue("header",t),o&&d&&typeof(d==null?void 0:d.options)<"u"&&(typeof o=="object"?o=o.map(h=>d.options.find(f=>h===f.value)).filter(h=>!!h):o=d.options.find(h=>o===h.value));break}return o},getHeaderOptions(s){const t=this.getHeaderValue("header",s);return t&&typeof t.options<"u"?t.options:[]},getHeaderMultiple(s){const t=this.getHeaderValue("header",s);return t&&typeof t.multiple<"u"?t.multiple:!1},isHeaderValueCustom(s){return typeof this.getHeaderValue("value",s,!0)=="string"&&this.getHeaderValue("value",s,!0).match(/\[[a-zA-Z0-9_-]+\]/)},addSecurityPresets(){this.addRows([{location:"site",header:"X-Frame-Options",value:"deny"},{location:"site",header:"X-XSS-Protection",value:"1; mode=block"},{location:"site",header:"X-Content-Type-Options",value:"nosniff"},{location:"site",header:"Content-Security-Policy",value:"default-src 'self'; script-src 'unsafe-inline' 'unsafe-eval' http:; style-src 'unsafe-inline' http:; img-src http: data:; font-src http: data:; sandbox allow-forms allow-scripts"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"}],!0)},addCorsPresets(){this.addRows([{location:"site",header:"Access-Control-Allow-Origin",value:"*"},{location:"site",header:"Access-Control-Allow-Credentials",value:"true"},{location:"site",header:"Access-Control-Allow-Methods",value:["GET","POST","OPTIONS"]},{location:"site",header:"Access-Control-Allow-Headers",value:"origin"},{location:"site",header:"Referrer-Policy",value:"no-referrer-when-downgrade"},{location:"site",header:"P3P",value:'CP="CAO PSA OUR"'}],!0)}},mounted(){this.redirectsStore.options.fullSite.httpHeaders.length===0&&this.addRow()}},po=s=>($e("data-v-c44a11c6"),s=s(),et(),s),go={class:"aioseo-section-description"},mo={class:"redirects-options-table",cellspacing:"0",cellpadding:"0","aria-label":"HTTP Headers"},ho=po(()=>i("td",null,null,-1)),_o={key:0,class:"even"},fo={colspan:"4"},So={class:"location"},vo={class:"httpHeader"},bo={class:"actions"},wo={colspan:"4"};function yo(s,t,g,e,o,d){const h=c("base-select"),f=c("base-input"),R=c("svg-trash"),C=c("core-tooltip"),y=c("svg-circle-plus"),v=c("base-button"),V=c("core-card");return u(),k(V,{slug:"fullSiteRedirectsHttpHeaders"},{header:n(()=>[i("span",null,a(o.strings.httpHeaders),1)]),default:n(()=>[i("div",go,a(o.strings.description),1),i("table",mo,[i("thead",null,[i("tr",null,[i("td",null,a(o.strings.location),1),i("td",null,a(o.strings.header),1),i("td",null,a(o.strings.value),1),ho])]),i("tbody",null,[d.parsedHeaders.length?_("",!0):(u(),S("tr",_o,[i("td",fo,a(o.strings.addHeadersMessage),1)])),(u(!0),S(J,null,Y(d.parsedHeaders,(w,p)=>(u(),S("tr",{class:K({even:p%2===0}),key:p},[i("td",So,[l(h,{size:"medium",options:d.locationOptions,modelValue:d.getHeaderValue("location",p),"onUpdate:modelValue":b=>d.updateHeader("location",b,p)},null,8,["options","modelValue","onUpdate:modelValue"])]),i("td",vo,[d.getHeaderValue("header",p,!0)!=="custom"?(u(),k(h,{key:0,size:"medium",filterable:!0,options:d.headerOptions,"group-label":"groupLabel","group-values":"options",modelValue:d.getHeaderValue("header",p),"onUpdate:modelValue":b=>d.updateHeader("header",b,p),placeholder:o.strings.headerPlaceholder},null,8,["options","modelValue","onUpdate:modelValue","placeholder"])):_("",!0),d.getHeaderValue("header",p,!0)==="custom"?(u(),k(f,{key:1,size:"medium",modelValue:d.getHeaderValue("customHeader",p),"onUpdate:modelValue":b=>d.updateHeader("customHeader",b,p),"append-icon":"circle-close",onAppendIconClick:b=>d.updateHeader("header","",p)},null,8,["modelValue","onUpdate:modelValue","onAppendIconClick"])):_("",!0)]),i("td",{class:K(["value",{custom:d.isHeaderValueCustom(p)}])},[d.getHeaderOptions(p).length?_("",!0):(u(),k(f,{key:0,size:"medium",modelValue:d.getHeaderValue("value",p),"onUpdate:modelValue":b=>d.updateHeader("value",b,p)},null,8,["modelValue","onUpdate:modelValue"])),d.getHeaderOptions(p).length?(u(),k(h,{key:1,size:"medium",filterable:!0,options:d.getHeaderOptions(p),modelValue:d.getHeaderValue("value",p),"onUpdate:modelValue":b=>d.updateHeader("value",b,p),multiple:d.getHeaderMultiple(p)},null,8,["options","modelValue","onUpdate:modelValue","multiple"])):_("",!0),d.isHeaderValueCustom(p)?(u(),k(f,{key:2,size:"medium",modelValue:d.getHeaderValue("customValue",p),"onUpdate:modelValue":b=>d.updateHeader("customValue",b,p)},null,8,["modelValue","onUpdate:modelValue"])):_("",!0)],2),i("td",bo,[l(C,{type:"action"},{tooltip:n(()=>[m(a(o.strings.delete),1)]),default:n(()=>[l(R,{onClick:b=>d.removeRow(p)},null,8,["onClick"])]),_:2},1024)])],2))),128))]),i("tfoot",null,[i("tr",null,[i("td",wo,[l(v,{size:"small-table",type:"black",onClick:t[0]||(t[0]=w=>d.addRow(null))},{default:n(()=>[l(y),m(" "+a(o.strings.addHeader),1)]),_:1}),l(v,{size:"small-table",type:"black",onClick:d.addSecurityPresets},{default:n(()=>[l(y),m(" "+a(o.strings.addSecurityPresets),1)]),_:1},8,["onClick"]),l(v,{size:"small-table",type:"black",onClick:d.addCorsPresets},{default:n(()=>[l(y),m(" "+a(o.strings.addCorsPresets),1)]),_:1},8,["onClick"])])])])])]),_:1})}const Ro=O(uo,[["render",yo],["__scopeId","data-v-c44a11c6"]]),Co={components:{RelocateSite:xt,SiteAliases:Gt,CanonicalSettings:ao,HttpHeaders:Ro,ServerConfigReloadWarning:se}},Vo={class:"aioseo-full-site-redirects"};function ko(s,t,g,e,o,d){const h=c("server-config-reload-warning"),f=c("relocate-site"),R=c("site-aliases"),C=c("canonical-settings"),y=c("http-headers");return u(),S("div",Vo,[l(h),l(f),l(R),l(C),l(y)])}const To=O(Co,[["render",ko]]),A="aioseo-pro",Lo={setup(){return{licenseStore:Ne(),redirectsStore:B(),rootStore:Q(),REDIRECT_GROUPS:Re}},components:{BaseCheckbox:ct,CoreCard:W,GridColumn:De,GridRow:Pe,SvgUpload:ut},data(){return{exportingRedirectLogs:!1,exporting404Logs:!1,exportOptions:{},postOptions:{},loading:!1,exportType:{label:r("Complete Data (JSON)",A),value:"json"},exportTypes:[{label:r("Complete Data (JSON)",A),value:"json"},{label:r("Apache Redirects (.htaccess)",A),value:"htaccess"},{label:r("Nginx Redirects (.nginx)",A),value:"nginx"}],strings:{exportRedirects:r("Export Redirects",A),exportDescription:r("Export to JSON, .htaccess or .nginx. The JSON format contains full information (and can be re-imported), while the other formats only contain partial information relevant to that format.",A),allRedirects:r("Export All Redirects",A),logs:r("Logs",A),exportRedirectLogs:r("Export Redirect Logs",A),export404Logs:r("Export 404 Logs",A)}}},computed:{settings(){const s=[{value:"webmasterTools",label:r("Webmaster Tools",A)},{value:"rssContent",label:r("RSS Content",A)},{value:"advanced",label:r("Advanced",A)},{value:"searchAppearance",label:r("Search Appearance",A)},{value:"social",label:r("Social Networks",A)},{value:"sitemap",label:r("Sitemaps",A)},{value:"tools",label:r("Tools",A)}];return this.rootStore.isPro&&s.push({value:"accessControl",label:r("Access Control",A)}),!this.licenseStore.isUnlicensed&&this.showImageSeoReset&&s.push({value:"image",label:r("Image SEO",A)}),!this.licenseStore.isUnlicensed&&this.showLocalBusinessReset&&s.push({value:"localBusiness",label:r("Local Business SEO",A)}),!this.licenseStore.isUnlicensed&&this.showLinkAssistantReset&&s.push({value:"linkAssistant",label:r("Link Assistant",A)}),s},canExport(){const s=[];return Object.keys(this.exportOptions).forEach(t=>{s.push(this.exportOptions[t])}),Object.keys(this.postOptions).forEach(t=>{s.push(this.postOptions[t])}),s.some(t=>t)}},methods:{processExportRedirects(){const s=[];this.exportOptions.all?Re.filter(g=>g.value!=="all").forEach(g=>{s.push(g.value)}):Object.keys(this.exportOptions).forEach(g=>{this.exportOptions[g]&&s.push(g)});const t=this.exportType.value;this.loading=!0,this.redirectsStore.exportRedirects({groups:s,type:t}).then(g=>{let e=new Blob([g.body.redirects]);t==="json"&&(e=new Blob([JSON.stringify(g.body.redirects)],{type:"application/json"})),this.loading=!1,this.exportOptions={},this.postOptions={};const o=document.createElement("a");o.href=URL.createObjectURL(e),o.download=`aioseo-export-redirects-${fe.now().toFormat("yyyy-MM-dd")}.${t}`,o.click(),URL.revokeObjectURL(o.href)})},processExportLogs(s){this["exporting"+s.charAt(0).toUpperCase()+s.slice(1)+"Logs"]=!0,this.redirectsStore.exportLogs(s).then(t=>{this["exporting"+s.charAt(0).toUpperCase()+s.slice(1)+"Logs"]=!1;const g=new Blob([t.body.redirects]),e=document.createElement("a");e.href=URL.createObjectURL(g),e.download=`aioseo-export-redirects-log-${s}-${fe.now().toFormat("yyyy-MM-dd")}.log`,e.click(),URL.revokeObjectURL(e.href)})}}},Ho={class:"export-redirects aioseo-settings-row"},Do={class:"export-description"},Po={class:"export-logs-wrapper"},Uo={class:"export-logs"};function Ao(s,t,g,e,o,d){const h=c("svg-upload"),f=c("base-checkbox"),R=c("grid-column"),C=c("grid-row"),y=c("base-select"),v=c("base-button"),V=c("core-card");return u(),k(V,{class:"aioseo-export-redirects",slug:"exportRedirects",toggles:!1,"no-slide":"","header-text":o.strings.exportRedirects},{"header-icon":n(()=>[l(h)]),default:n(()=>[i("div",Ho,[i("div",Do,a(o.strings.exportDescription),1),l(C,null,{default:n(()=>[l(R,{class:"export-logs"},{default:n(()=>[l(f,{size:"medium",modelValue:o.exportOptions.all,"onUpdate:modelValue":t[0]||(t[0]=w=>o.exportOptions.all=w)},{default:n(()=>[m(a(o.strings.allRedirects),1)]),_:1},8,["modelValue"])]),_:1}),(u(!0),S(J,null,Y(e.REDIRECT_GROUPS,(w,p)=>(u(),k(R,{key:p,sm:"12"},{default:n(()=>[o.exportOptions.all?_("",!0):(u(),k(f,{key:0,size:"medium",modelValue:o.exportOptions[w.value],"onUpdate:modelValue":b=>o.exportOptions[w.value]=b},{default:n(()=>[m(a(w.label),1)]),_:2},1032,["modelValue","onUpdate:modelValue"])),w.value!=="all"&&o.exportOptions.all?(u(),k(f,{key:1,size:"medium",modelValue:!0,disabled:""},{default:n(()=>[m(a(w.label),1)]),_:2},1024)):_("",!0)]),_:2},1024))),128))]),_:1}),l(y,{size:"medium",options:o.exportTypes,modelValue:o.exportType,"onUpdate:modelValue":t[1]||(t[1]=w=>o.exportType=w)},null,8,["options","modelValue"]),l(v,{type:"blue",size:"medium",class:"import",onClick:d.processExportRedirects,disabled:!d.canExport,loading:o.loading},{default:n(()=>[m(a(o.strings.exportRedirects),1)]),_:1},8,["onClick","disabled","loading"])]),i("div",Po,[i("div",Uo,a(o.strings.logs),1),e.redirectsStore.options.logs.redirects.enabled&&e.redirectsStore.options.main.method!=="server"?(u(),k(v,{key:0,type:"gray",size:"medium",loading:o.exportingRedirectLogs,onClick:t[2]||(t[2]=w=>d.processExportLogs("redirect"))},{default:n(()=>[m(a(o.strings.exportRedirectLogs),1)]),_:1},8,["loading"])):_("",!0),e.redirectsStore.options.logs.log404.enabled?(u(),k(v,{key:1,type:"gray",size:"medium",loading:o.exporting404Logs,onClick:t[3]||(t[3]=w=>d.processExportLogs("404"))},{default:n(()=>[m(a(o.strings.export404Logs),1)]),_:1},8,["loading"])):_("",!0)])]),_:1},8,["header-text"])}const xo=O(Lo,[["render",Ao]]),Eo=""+window.__aioseoDynamicImportPreload__("images/import-from-csv.28fa42d3.png"),U="aioseo-pro",_e={redirection:{url:{type:Object,default(){return{url:null,regex:null,ignoreSlash:null,ignoreCase:null}}},targetUrl:null,type:null}},Mo={setup(){const{validateRedirect:s}=Ke();return{redirectsStore:B(),rootStore:Q(),validateRedirect:s}},components:{CoreAlert:oe,CoreCard:W,CoreModal:be,CoreWpTable:we,SvgDownload:Ue,SvgCircleClose:at,SvgCircleExclamation:pt,SvgCircleCheck:dt},data(){return{csvFileImage:Eo,redirection:ge(_e.redirection),inputFile:null,filename:null,file:null,uploadError:!1,uploadSuccess:!1,loading:!1,errors:[],showErrorModal:!1,importedRows:0,strings:{importNotSure:r("Importing a CSV? To ensure you have the right columns, ",U),imgAltText:r("CSV example file",U),clickHere:r("click here",U),importDescription:x(r("You can import redirects using a CSV file. The following 6 columns are required: %1$sSource URL, Target URL, Redirect Type, Ignore Slash, Ignore Case, Regex.%2$s",U),"<strong>","</strong>"),typeAdvise:x(r("* Use Redirect Type = 0 for %1$sPass Through%2$s",U),"<strong>","</strong>"),importRestoreAioseoRedirects:r("Import Redirects from a JSON or CSV File",U),fileUploadPlaceholder:r("Import from a JSON or CSV file...",U),chooseAFile:r("Choose a File",U),fileUploadDescription:r("Imported redirects will overwrite existing redirects and will not be merged.",U),import:r("Import",U),jsonFileTypeRequired:r("A JSON or CSV file is required to import redirects.",U),fileUploadedSuccessfully:r("Success! Your redirects have been imported.",U),fileUploadFailed:r("There was an error importing your redirects. Please make sure you are uploading the correct file or it is in the proper format.",U),downloadSampleFile:r("Download Sample CSV File",U),csvFileTypeRequired:r("The file that you've selected is not a CSV file.",U),invalidCSV:r("Unable to read CSV file. Please check if the file is valid and try again.",U),importFailed:r("There was an error importing your redirects. Please make sure you are uploading the correct file or it is in the proper format.",U),rowsErrors:r("Some redirects couldn't be imported. Click here to see.",U),errorRedirectType:r("Invalid Redirect Type.",U),errorEmptyField:r("Source and Target URL can't be empty.",U),errorInvalidURL:r("Invalid URL.",U),messageError:r("Redirect Import Errors",U),listErrorsBelow:r("The following redirects couldn’t be imported:",U)},showDownloadSample:!1,sampleCSVData:`Source URL,Target URL,Redirect Type,Ignore Slash,Ignore Case,Regex\r
/sample_model/,/,301,yes,yes,no`}},computed:{importValidated(){return!!(this.file.type==="text/csv"||this.file.type==="application/json"||this.file.name.endsWith(".ini"))},redirectTypes(){return Le.map(s=>s.value)},columns(){return[{slug:"sourceUrl",label:r("URL",U)},{slug:"targetUrl",label:r("Target",U)},{slug:"messages",label:r("Error",U)}]},successErrorMessageImported(){return 0<this.importedRows?x(r("Successfully imported %1$s %2$s %3$sredirects.",U),"<strong>",this.importedRows,"</strong>"):null},successErrorMessageFailed(){return x(r("%1$s%2$s%3$s Redirects could not be imported. %4$sClick here%5$s for more info.",U),"<strong>",this.errors.length,"</strong>","<a>","</a>")}},methods:{getAssetUrl:Ge,reset(){this.uploadSuccess=!1,this.uploadError=!1,this.loading=!1,this.filename=null,this.file=null,this.inputFile=null},triggerFileUpload(){this.reset(),this.$refs.file.$el.querySelector("input").focus(),this.$refs.file.$el.querySelector("input").click()},parseFile(){const s=new FileReader;return s.readAsText(this.file),new Promise((t,g)=>{s.onerror=()=>{s.abort(),g(new DOMException)},s.onload=()=>{const o=s.result.split(/\r?\n/).map(d=>d.split(",")).filter((d,h)=>h!==0&&/\S/.test(d.join("")));t(o)}})},submitFile(){this.file.type==="application/json"&&this.importJSON(),this.file.type==="text/csv"&&this.importCSV()},handleFileUpload(){this.reset(),this.file=this.$refs.file.$el.querySelector("input").files[0],this.file&&(this.filename=this.file.name,this.file.type!=="application/json"&&this.file.type!=="text/csv"&&(this.uploadError=this.strings.jsonFileTypeRequired))},async importJSON(){this.loading=!0,await this.redirectsStore.uploadFile({file:this.file,filename:this.filename}).then(()=>{this.reset(),this.uploadSuccess=!0,this.loading=!1}).catch(()=>{this.reset(),this.loading=!1,this.uploadError=this.strings.fileUploadFailed}),he(()=>{this.uploadSuccess=!1},1e4)},async importCSV(){this.errors=[],this.loading=!0;try{const s=await this.parseFile(),t=[];s.forEach(g=>{const e=this.prepareRedirection(g);e&&t.push(e)}),this.redirectsStore.importCsvRedirects(t).then(g=>{this.reset(),this.redirectsStore.setLateRefresh({value:!0,type:"redirects"}),g.body.success?(this.uploadSuccess=!0,this.importedRows=g.body.importedRows,this.errors.length===0&&he(()=>{this.uploadSuccess=!1},1e4)):this.uploadError=this.strings.importFailed}).catch(()=>{this.reset(),this.loading=!1,this.uploadError=this.strings.importFailed})}catch{this.uploadError=this.strings.invalidCSV}he(()=>{this.uploadError=!1},1e4),this.reset(),this.redirects=ge(_e.redirection)},allowSourceEmpty(s){return 400<=parseInt(s)&&600>parseInt(s)},beginsWith(s,t){return t.indexOf(s)===0||s.substr(0,t.length)===t},setURL(s,t){if(t)return s;const g=Ze(Se(s),this.rootStore.aioseo.urls.home);return/['"]/g.test(g)?null:g},prepareRedirection(s){try{const t=ge(_e.redirection);if(this.isEmptySourceOrTarget(s))return this.errors.push(this.createError(s,this.strings.errorEmptyField)),!1;if(!this.isValidRedirectType(s))return this.errors.push(this.createError(s,this.strings.errorRedirectType)),!1;if(t.url.ignoreSlash=s[3].toLowerCase()==="yes",t.url.ignoreCase=s[4].toLowerCase()==="yes",t.url.regex=s[5].toLowerCase()==="yes",t.url.url=this.setURL(s[0],t.url.regex),t.targetUrl=this.setURL(s[1],t.url.regex),t.type=parseInt(s[2]),t.url.url===null||t.targetUrl===null||!t.url.regex&&!this.isValidUrl(t.url.url)||s[1]!==""&&!this.isValidUrl(t.targetUrl))return this.errors.push(this.createError(s,this.strings.errorInvalidURL)),!1;const g=this.validateRedirect(t);return 0<g.length?(this.errors.push(this.createError(s,g)),!1):t}catch{return!1}},isEmptySourceOrTarget(s){return s[0]===""||s[1]===""&&!this.allowSourceEmpty(s[2])},isValidRedirectType(s){return this.redirectTypes.includes(parseInt(s[2]))},isValidUrl(s){return this.beginsWith(s,"/")||this.beginsWith(s,"http://")||this.beginsWith(s,"https://")},createError(s,t){return{sourceUrl:s[0],targetUrl:s[1],messages:Array.isArray(t)?t:[t]}},downloadSampleCSV(){this.showDownloadSample=!1;const s=new Blob([this.sampleCSVData],{type:"text/csv"}),t=URL.createObjectURL(s),g=document.createElement("a");g.href=t,g.download="aioseo-redirects-sample.csv",g.click()}}},Io={class:"aioseo-modal-body import-redirects"},Oo={key:0},Fo={key:1},Bo=["innerHTML"],No=["innerHTML"],zo=["src","alt"],Jo={class:"file-upload"},Wo={class:"icon"},jo={class:"icon"},qo={class:"icon"},Yo=["innerHTML"],Go=["innerHTML"],Zo={class:"aioseo-description"},Ko={class:"aioseo-modal-body"},Xo={class:"error-description"},Qo=["name"];function $o(s,t,g,e,o,d){const h=c("svg-download"),f=c("core-alert"),R=c("base-input"),C=c("base-button"),y=c("svg-circle-close"),v=c("svg-circle-check"),V=c("svg-circle-exclamation"),w=c("core-card"),p=c("core-wp-table"),b=c("core-modal");return u(),S("div",null,[l(w,{class:"aioseo-redirects-import-aioseo",slug:"importAioseoRedirects",toggles:!1,"no-slide":"","header-text":o.strings.importRestoreAioseoRedirects},{"header-icon":n(()=>[l(h)]),default:n(()=>[i("div",Io,[o.showDownloadSample?_("",!0):(u(),S("div",Oo,[m(a(o.strings.importNotSure)+" ",1),i("a",{onClick:t[0]||(t[0]=Z(P=>o.showDownloadSample=!0,["stop"]))},a(o.strings.clickHere),1)])),o.showDownloadSample?(u(),S("div",Fo,[l(f,{type:"yellow"},{default:n(()=>[i("p",{innerHTML:o.strings.importDescription},null,8,Bo),i("p",{innerHTML:o.strings.typeAdvise},null,8,No),i("a",{onClick:t[1]||(t[1]=Z((...P)=>d.downloadSampleCSV&&d.downloadSampleCSV(...P),["stop"]))},a(o.strings.downloadSampleFile),1)]),_:1}),i("img",{src:d.getAssetUrl(o.csvFileImage),alt:o.strings.imgAltText},null,8,zo)])):_("",!0),i("div",Jo,[l(R,{modelValue:o.filename,"onUpdate:modelValue":t[2]||(t[2]=P=>o.filename=P),size:"medium",onFocus:d.triggerFileUpload,placeholder:o.strings.fileUploadPlaceholder,class:K({"aioseo-error":o.uploadError})},null,8,["modelValue","onFocus","placeholder","class"]),l(C,{type:"black",size:"medium",onClick:d.triggerFileUpload},{default:n(()=>[m(a(o.strings.chooseAFile),1)]),_:1},8,["onClick"])]),o.uploadError?(u(),k(f,{key:2,type:"red",class:"import-error",onClick:t[3]||(t[3]=Z(P=>o.uploadError=!1,["stop"]))},{default:n(()=>[i("div",Wo,[l(y)]),m(" "+a(o.uploadError),1)]),_:1})):_("",!0),o.uploadSuccess&&o.errors.length===0?(u(),k(f,{key:3,type:"green",class:"import-error",onClick:t[4]||(t[4]=Z(P=>o.uploadSuccess=!1,["stop"]))},{default:n(()=>[i("div",jo,[l(v)]),m(" "+a(o.strings.fileUploadedSuccessfully),1)]),_:1})):_("",!0),o.uploadSuccess&&o.errors.length!==0?(u(),k(f,{key:4,type:"yellow",class:"import-success-error"},{default:n(()=>[i("div",qo,[l(V)]),i("div",null,[i("div",{innerHTML:d.successErrorMessageImported},null,8,Yo),i("div",{onClick:t[5]||(t[5]=P=>o.showErrorModal=!0),innerHTML:d.successErrorMessageFailed},null,8,Go)])]),_:1})):_("",!0),l(R,{modelValue:o.inputFile,"onUpdate:modelValue":t[6]||(t[6]=P=>o.inputFile=P),type:"file",onClick:d.reset,onChange:d.handleFileUpload,ref:"file"},null,8,["modelValue","onClick","onChange"]),i("div",Zo,a(o.strings.fileUploadDescription),1),l(C,{type:"blue",size:"medium",class:"import",onClick:d.submitFile,disabled:!o.file||!d.importValidated,loading:o.loading},{default:n(()=>[m(a(o.strings.import),1)]),_:1},8,["onClick","disabled","loading"])])]),_:1},8,["header-text"]),l(b,{show:o.showErrorModal,onClose:t[7]||(t[7]=P=>o.showErrorModal=!1),classes:["error-modal"]},{headerTitle:n(()=>[l(V),m(" "+a(o.strings.messageError),1)]),body:n(()=>[i("div",Ko,[i("div",Xo,a(o.strings.listErrorsBelow),1),l(p,{id:"tableId",columns:d.columns,key:"1",rows:o.errors,totals:o.errors.length,showSearch:!1,showBulkActions:!1,showPagination:!1,showTableFooter:!1,showHeader:!1},{messages:n(({row:P})=>[i("ul",null,[(u(!0),S(J,null,Y(P.messages,(D,T)=>(u(),S("li",{name:D,key:T},a(D),9,Qo))),128))])]),_:1},8,["columns","rows","totals"])])]),_:1},8,["show"])])}const es=O(Mo,[["render",$o]]),j="aioseo-pro",ts={setup(){return{redirectsStore:B()}},components:{CoreAlert:oe,CoreCard:W,SvgDownload:Ue},data(){return{importSuccess:!1,importError:!1,options:{},plugin:null,loading:!1,strings:{importRedirectsFromOtherPlugins:r("Import Redirects from Other Plugins",j),importOthersDescription:x(r("Choose a plugin to import redirects directly into %1$s.",j),"AIOSEO"),selectPlugin:r("Select a plugin...",j),import:r("Import",j),allRedirects:r("All Redirects",j),notInstalled:r("not installed",j)}}},watch:{plugin(){this.importSuccess=!1,this.importError=!1,this.options={}}},computed:{plugins(){const s=[];return this.redirectsStore.importers.forEach(t=>{s.push({value:t.slug,label:t.name,canImport:t.canImport,version:t.version,$isDisabled:!t.installed})}),s},importSuccessful(){return x(r("%1$s was successfully imported!",j),this.plugin.label)},importErrorMessage(){return x(r("An error occurred while importing %1$s. Please try again.",j),this.plugin.label)}},methods:{processImportPlugin(){this.importSuccess=!1,this.importError=!1,this.loading=!0;const s=[];this.options.all?this.settings.filter(t=>t.value!=="all").forEach(t=>{s.push(t.value)}):Object.keys(this.options).forEach(t=>{this.options[t]&&s.push(t)}),this.redirectsStore.importPlugins([{plugin:this.plugin.value,settings:s}]).then(()=>{this.loading=!1,this.importSuccess=!0,this.options={}}).catch(()=>{this.loading=!1,this.importError=!0,this.options={}})},invalidVersion(s){return x(r("We do not support importing from the currently installed version of %1$s (%2$s). Please upgrade to the latest version and try again.",j),s.label,s.version)}}},os={class:"aioseo-section-description"},ss={class:"import-plugin-label"},rs={class:"plugin-label"},is={key:0,class:"plugin-status"};function ls(s,t,g,e,o,d){const h=c("svg-download"),f=c("core-alert"),R=c("base-select"),C=c("base-button"),y=c("core-card");return u(),k(y,{id:"aioseo-redirects-import-others",class:"aioseo-redirects-import-others",slug:"importOtherPluginsRedirects",toggles:!1,"no-slide":"","header-text":o.strings.importRedirectsFromOtherPlugins},{"header-icon":n(()=>[l(h)]),default:n(()=>[i("div",os,a(o.strings.importOthersDescription),1),o.importSuccess?(u(),k(f,{key:0,class:"import-success",type:"green"},{default:n(()=>[m(a(d.importSuccessful),1)]),_:1})):_("",!0),o.importError?(u(),k(f,{key:1,class:"import-error",type:"red"},{default:n(()=>[m(a(d.importErrorMessage),1)]),_:1})):_("",!0),l(R,{size:"medium",modelValue:o.plugin,"onUpdate:modelValue":t[0]||(t[0]=v=>o.plugin=v),options:d.plugins,placeholder:o.strings.selectPlugin},{option:n(({option:v})=>[i("div",ss,[i("span",rs,a(v.label),1),v.$isDisabled?(u(),S("span",is,a(o.strings.notInstalled),1)):_("",!0)])]),_:1},8,["modelValue","options","placeholder"]),l(C,{type:"blue",size:"medium",class:"import",onClick:d.processImportPlugin,disabled:!o.plugin,loading:o.loading},{default:n(()=>[m(a(o.strings.import),1)]),_:1},8,["onClick","disabled","loading"])]),_:1},8,["header-text"])}const ns=O(ts,[["render",ls]]),as={components:{ExportRedirects:xo,GridColumn:De,GridRow:Pe,ImportAioseo:es,ImportOthers:ns,ServerConfigReloadWarning:se}},ds={class:"aioseo-redirects-import-export"};function cs(s,t,g,e,o,d){const h=c("server-config-reload-warning"),f=c("import-aioseo"),R=c("import-others"),C=c("grid-column"),y=c("export-redirects"),v=c("grid-row");return u(),S("div",ds,[l(h),l(v,null,{default:n(()=>[l(C,{md:"6"},{default:n(()=>[l(f),l(R)]),_:1}),l(C,{md:"6"},{default:n(()=>[l(y)]),_:1})]),_:1})])}const us=O(as,[["render",cs]]),F="aioseo-pro",Ie=(s={})=>{const{refreshTable:t,slug:g}=s,e={lastIp:r("Last IP",F),headers:r("Headers",F),at:r("at",F),additionalInfo:r("Additional Info",F),delete:r("Delete",F),areYouSureDeleteLogSingle:r("Are you sure you want to delete this record?",F),areYouSureDeleteLogMultiple:r("Are you sure you want to delete these records?",F),actionCannotBeUndone:r("This action cannot be undone.",F),yesDeleteLogSingle:r("Yes, I want to delete this record",F),yesDeleteLogMultiple:r("Yes, I want to delete these records",F),noChangedMind:r("No, I changed my mind",F),url:r("URL",F),hits:r("Hits",F),lastAccessed:r("Last Accessed",F),referrers:r("Referrers",F)},o=D=>Array.isArray(D)&&1<D.length?e.areYouSureDeleteLogMultiple:e.areYouSureDeleteLogSingle,d=D=>Array.isArray(D)&&1<D.length?e.yesDeleteLogMultiple:e.yesDeleteLogSingle,h=G(null),f=G([]),R=G(!1),C=G(!1),y=G(null),v=D=>{h.value=D},V=D=>{const T=JSON.parse(D.request_data);return T.headers?T.headers:null},w=B();return{activeRow:h,areYouSureDeleteMsg:o,confirmDeleteMsg:d,deletingLog:R,getHeaderInfo:V,logUrls:f,processBulkAction:({action:D,selectedRows:T})=>{if(T.length){if(D==="delete"){y.value=T,C.value=!0;return}f.value=T}},processDeleteLog:()=>{R.value=!0;const D=Array.isArray(y.value)?y.value:[y.value];w.deleteLog({slug:g,ids:D}).then(()=>{R.value=!1,C.value=!1,y.value=null,t()})},shouldDeleteLog:y,showDeleteModal:C,showInfo:v,sqlDateToLogFormat:(D,T)=>T?gt(D):Ve(D,"MMMM d, yyyy")+" "+e.at+" "+Ve(D,"h:mm a"),strings:e}},ps="aioseo-pro",gs={setup(){const s=B(),t=G(null),g="aioseo-redirects-logs-wp-table",e="logs",{orderBy:o,orderDir:d,pageNumber:h,processChangeItemsPerPage:f,processPagination:R,processSearch:C,processSort:y,refreshTable:v,searchTerm:V,wpTableKey:w,wpTableLoading:p}=Ae({changeItemsPerPageSlug:"redirectLogs",fetchData:s.fetchLogs,slug:e,tableId:g,tableRef:t.value}),{activeRow:b,areYouSureDeleteMsg:P,confirmDeleteMsg:D,deletingLog:T,getHeaderInfo:E,processBulkAction:z,processDeleteLog:$,shouldDeleteLog:L,showDeleteModal:ae,showInfo:de,sqlDateToLogFormat:ce,strings:ue}=Ie({refreshTable:v,slug:e}),{decodeUrl:pe}=xe();return{activeRow:b,areYouSureDeleteMsg:P,confirmDeleteMsg:D,deletingLog:T,getHeaderInfo:E,orderBy:o,orderDir:d,pageNumber:h,processBulkAction:z,processChangeItemsPerPage:f,processDeleteLog:$,processPagination:R,processSearch:C,processSort:y,redirectsStore:s,refreshTable:v,sanitizeString:Se,searchTerm:V,settingsStore:ke(),shouldDeleteLog:L,showDeleteModal:ae,showInfo:de,sqlDateToLogFormat:ce,strings:ue,tableId:g,wpTableKey:w,wpTableLoading:p,decodeUrl:pe}},components:{CoreModal:be,CoreTooltip:te,CoreWpTable:we,ServerConfigReloadWarning:se,SvgClose:He,SvgCircleInformation:Ee,SvgTrash:ne},data(){return{bulkOptions:[{label:r("Delete",ps),value:"delete",resetSelection:!1}]}},watch:{"redirectsStore.logs":{deep:!0,handler(){this.wpTableKey+=1}}},computed:{columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.orderBy==="url"?this.orderDir:"asc",sorted:this.orderBy==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.orderBy==="hits"?this.orderDir:"asc",sorted:this.orderBy==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.orderBy==="last_accessed"?this.orderDir:"asc",sorted:this.orderBy==="last_accessed"},{slug:"actions",label:"",width:"65px"}]},decodedLogsUrls(){return this.redirectsStore.logs.map(s=>({...s,url:this.decodeUrl(s.url)}))}},methods:{maybeDeleteLog(s){const t=this.redirectsStore.logs.find((g,e)=>e===s);t&&(this.showDeleteModal=!0,this.shouldDeleteLog=t.id)}},mounted(){this.redirectsStore.lateRefresh.logs&&(this.refreshTable(),this.redirectsStore.setLateRefresh({value:!1,type:"logs"}))}},ms={class:"aioseo-redirects-logs"},hs={class:"actions-wrapper"},_s={class:"aioseo-modal-body"},fs=["innerHTML"],Ss={class:"aioseo-modal-body info"},vs={key:0},bs={key:1},ws={"aria-label":"Logs",class:"header-table"},ys={key:2},Rs={"aria-label":"Logs",class:"header-table"};function Cs(s,t,g,e,o,d){const h=c("server-config-reload-warning"),f=c("svg-circle-information"),R=c("core-tooltip"),C=c("svg-trash"),y=c("core-wp-table"),v=c("svg-close"),V=c("base-button"),w=c("core-modal");return u(),S("div",ms,[l(h),(u(),k(y,{id:e.tableId,"bulk-options":o.bulkOptions,columns:d.columns,filters:[],"initial-items-per-page":e.settingsStore.settings.tablePagination.redirectLogs,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:d.decodedLogsUrls,"show-search":!0,totals:e.redirectsStore.totals.logs,"show-items-per-page":"",onPaginate:e.processPagination,onProcessBulkAction:e.processBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:e.processSearch,onSortColumn:e.processSort},{last_accessed:n(({column:p})=>[m(a(e.sqlDateToLogFormat(p,!0)),1)]),actions:n(({index:p,row:b})=>[i("div",hs,[l(R,{type:"action"},{tooltip:n(()=>[m(a(e.strings.additionalInfo),1)]),default:n(()=>[l(f,{class:"log-info",onClick:P=>e.showInfo(b)},null,8,["onClick"])]),_:2},1024),l(R,{type:"action"},{tooltip:n(()=>[m(a(e.strings.delete),1)]),default:n(()=>[l(C,{class:"remove-log",onClick:P=>d.maybeDeleteLog(p)},null,8,["onClick"])]),_:2},1024)])]),_:1},8,["id","bulk-options","columns","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),l(w,{show:e.showDeleteModal,"no-header":"",onClose:t[3]||(t[3]=p=>e.showDeleteModal=!1),classes:["aioseo-redirects-logs-modal"]},{body:n(()=>[i("div",_s,[i("button",{class:"close",onClick:t[1]||(t[1]=Z(p=>e.showDeleteModal=!1,["stop"]))},[l(v,{onClick:t[0]||(t[0]=p=>e.showDeleteModal=!1)})]),i("h3",null,a(e.areYouSureDeleteMsg(e.shouldDeleteLog)),1),i("div",{class:"reset-description",innerHTML:e.strings.actionCannotBeUndone},null,8,fs),l(V,{type:"blue",size:"medium",onClick:e.processDeleteLog,loading:e.deletingLog},{default:n(()=>[m(a(e.confirmDeleteMsg(e.shouldDeleteLog)),1)]),_:1},8,["onClick","loading"]),l(V,{type:"gray",size:"medium",onClick:t[2]||(t[2]=p=>e.showDeleteModal=!1)},{default:n(()=>[m(a(e.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show"]),l(w,{show:e.activeRow,onClose:t[4]||(t[4]=p=>e.activeRow=null),classes:["aioseo-redirects-logs-modal"]},{headerTitle:n(()=>[m(a(e.strings.additionalInfo),1)]),body:n(()=>[i("div",Ss,[i("div",null,[i("strong",null,a(e.strings.url)+":",1),m(" "+a(e.sanitizeString(e.activeRow.url)),1)]),i("div",null,[i("strong",null,a(e.strings.hits)+":",1),m(" "+a(e.activeRow.hits),1)]),i("div",null,[i("strong",null,a(e.strings.lastAccessed)+":",1),m(" "+a(e.sqlDateToLogFormat(e.activeRow.last_accessed)),1)]),e.activeRow.ip?(u(),S("div",vs,[i("strong",null,a(e.strings.lastIp)+":",1),m(),i("code",null,a(e.sanitizeString(e.activeRow.ip)),1)])):_("",!0),e.activeRow.referrers.length?(u(),S("div",bs,[i("strong",null,a(e.strings.referrers)+":",1),i("table",ws,[(u(!0),S(J,null,Y(e.activeRow.referrers,(p,b)=>(u(),S("tr",{key:b},[i("td",null,a(e.sanitizeString(p)),1)]))),128))])])):_("",!0),e.getHeaderInfo(e.activeRow)?(u(),S("div",ys,[i("strong",null,a(e.strings.headers)+":",1),i("table",Rs,[(u(!0),S(J,null,Y(e.getHeaderInfo(e.activeRow),(p,b)=>(u(),S("tr",{key:b},[i("td",null,[i("strong",null,a(e.sanitizeString(b))+":",1)]),i("td",null,a(e.sanitizeString(p)),1)]))),128))])])):_("",!0)])]),_:1},8,["show"])])}const Vs=O(gs,[["render",Cs]]),ee="aioseo-pro",ks={setup(){const s=B(),t=G(null),g="aioseo-redirects-404-logs-wp-table",e="404",{orderBy:o,orderDir:d,pageNumber:h,processChangeItemsPerPage:f,processPagination:R,processSearch:C,processSort:y,refreshTable:v,searchTerm:V,wpTableKey:w,wpTableLoading:p}=Ae({changeItemsPerPageSlug:"redirect404Logs",fetchData:s.fetchLogs,slug:e,tableId:g,tableRef:t.value}),{activeRow:b,areYouSureDeleteMsg:P,confirmDeleteMsg:D,deletingLog:T,getHeaderInfo:E,logUrls:z,processBulkAction:$,processDeleteLog:L,shouldDeleteLog:ae,showDeleteModal:de,showInfo:ce,sqlDateToLogFormat:ue,strings:pe}=Ie({refreshTable:v,slug:e}),{decodeUrl:Oe}=xe();return{activeRow:b,areYouSureDeleteMsg:P,composableStrings:pe,confirmDeleteMsg:D,deletingLog:T,getHeaderInfo:E,logUrls:z,orderBy:o,orderDir:d,pageNumber:h,processBulkAction:$,processChangeItemsPerPage:f,processDeleteLog:L,processPagination:R,processSearch:C,processSort:y,redirectsStore:s,refreshTable:v,sanitizeString:Se,searchTerm:V,settingsStore:ke(),shouldDeleteLog:ae,showDeleteModal:de,showInfo:ce,sqlDateToLogFormat:ue,tableId:g,wpTableKey:w,wpTableLoading:p,decodeUrl:Oe}},components:{CoreAddRedirection:Xe,CoreCard:W,CoreModal:be,CoreTooltip:te,CoreWpTable:we,ServerConfigReloadWarning:se,SvgClose:He,SvgCircleInformation:Ee,SvgRedirect:mt,SvgTrash:ne,TransitionSlide:ht},data(){return{redirect404UrlsKey:1,showBulkAddRedirections:!1,bulkOptions:[{label:r("Add Redirects",ee),value:"add-redirects"},{label:r("Delete",ee),value:"delete",resetSelection:!1}],strings:ze(this.composableStrings,{addRedirect:r("Add Redirect",ee),addNewRedirections:r("Add New Redirections",ee)})}},watch:{"redirectsStore.logs404":{deep:!0,handler(){this.wpTableKey+=1}}},computed:{columns(){return[{slug:"url",label:this.strings.url,sortable:!0,sortDir:this.orderBy==="url"?this.orderDir:"asc",sorted:this.orderBy==="url"},{slug:"hits",label:this.strings.hits,width:"97px",sortable:!0,sortDir:this.orderBy==="hits"?this.orderDir:"asc",sorted:this.orderBy==="hits"},{slug:"last_accessed",label:this.strings.lastAccessed,width:"210px",sortable:!0,sortDir:this.orderBy==="last_accessed"?this.orderDir:"asc",sorted:this.orderBy==="last_accessed"},{slug:"redirect",label:r("Redirect",ee),width:"120px"},{slug:"actions",label:"",width:"65px"}]},get404RedirectUrls(){return this.logUrls.map(s=>this.decoded404RedirectUrls.find(t=>t.id===s)).filter(Boolean).map(s=>({url:s.url,errors:[],warnings:[]}))},decoded404RedirectUrls(){return this.redirectsStore.logs404.map(s=>({...s,url:this.decodeUrl(s.url)}))}},methods:{addedRedirect(){this.processPagination(this.$refs.table.pageNumber),this.showBulkAddRedirections=!1},maybeDelete404(s){const t=this.redirectsStore.logs404.find((g,e)=>e===s);t&&(this.showDeleteModal=!0,this.shouldDeleteLog=t.id)},beginProcessBulkAction(s){this.processBulkAction(s),s.action==="add-redirects"&&(this.showBulkAddRedirections=!0,this.redirect404UrlsKey+=1)}},mounted(){this.redirectsStore.lateRefresh.logs404&&(this.refreshTable(),this.redirectsStore.setLateRefresh({value:!1,type:"logs404"}))}},Ts={class:"aioseo-redirects-404-logs"},Ls={class:"add-bulk-redirects-wrapper"},Hs=["onClick"],Ds={class:"actions-404-wrapper"},Ps={class:"aioseo-modal-body"},Us=["innerHTML"],As={class:"aioseo-modal-body info"},xs={key:0},Es={key:1},Ms={"aria-label":"Logs",class:"header-table"},Is={key:2},Os={"aria-label":"404 Logs",class:"header-table"};function Fs(s,t,g,e,o,d){const h=c("server-config-reload-warning"),f=c("core-add-redirection"),R=c("core-card"),C=c("transition-slide"),y=c("svg-redirect"),v=c("svg-circle-information"),V=c("core-tooltip"),w=c("svg-trash"),p=c("core-wp-table"),b=c("svg-close"),P=c("base-button"),D=c("core-modal");return u(),S("div",Ts,[l(h),l(C,{active:o.showBulkAddRedirections},{default:n(()=>[i("div",Ls,[l(R,{slug:"bulkAddNewRedirection","header-text":o.strings.addNewRedirections,toggles:!1,"no-slide":"",closes:"",onCloseCard:t[0]||(t[0]=T=>o.showBulkAddRedirections=!1)},{default:n(()=>[(u(),k(f,{key:o.redirect404UrlsKey,log404:"",onAddedRedirect:d.addedRedirect,urls:d.get404RedirectUrls},null,8,["onAddedRedirect","urls"]))]),_:1},8,["header-text"])])]),_:1},8,["active"]),(u(),k(p,{ref:"table",id:e.tableId,"bulk-options":o.bulkOptions,columns:d.columns,filters:[],"initial-items-per-page":e.settingsStore.settings.tablePagination.redirect404Logs,"initial-page-number":e.pageNumber,"initial-search-term":e.searchTerm,key:e.wpTableKey,loading:e.wpTableLoading,rows:d.decoded404RedirectUrls,"show-search":!0,totals:e.redirectsStore.totals.total404,"show-items-per-page":"",onPaginate:e.processPagination,onProcessBulkAction:d.beginProcessBulkAction,onProcessChangeItemsPerPage:e.processChangeItemsPerPage,onSearch:e.processSearch,onSortColumn:e.processSort},{last_accessed:n(({column:T})=>[m(a(e.sqlDateToLogFormat(T,!0)),1)]),redirect:n(({index:T,editRow:E})=>[i("a",{class:"add-redirect",href:"#",onClick:Z(z=>E(T),["prevent"])},[l(y),m(a(o.strings.addRedirect),1)],8,Hs)]),actions:n(({index:T,row:E})=>[i("div",Ds,[l(V,{type:"action"},{tooltip:n(()=>[m(a(o.strings.additionalInfo),1)]),default:n(()=>[l(v,{class:"log-info",onClick:z=>e.showInfo(E)},null,8,["onClick"])]),_:2},1024),l(V,{type:"action"},{tooltip:n(()=>[m(a(o.strings.delete),1)]),default:n(()=>[l(w,{class:"remove-404",onClick:z=>d.maybeDelete404(T)},null,8,["onClick"])]),_:2},1024)])]),"edit-row":n(({row:T,editRow:E})=>[l(f,{log404:"",onAddedRedirect:t[1]||(t[1]=z=>e.processPagination(s.$refs.table.pageNumber)),url:{url:T.url,errors:[],warnings:[]},onCancel:z=>E(null)},null,8,["url","onCancel"])]),_:1},8,["id","bulk-options","columns","initial-items-per-page","initial-page-number","initial-search-term","loading","rows","totals","onPaginate","onProcessBulkAction","onProcessChangeItemsPerPage","onSearch","onSortColumn"])),l(D,{show:e.showDeleteModal,"no-header":"",onClose:t[5]||(t[5]=T=>e.showDeleteModal=!1),classes:["aioseo-redirects-logs-modal"]},{body:n(()=>[i("div",Ps,[i("button",{class:"close",onClick:t[3]||(t[3]=Z(T=>e.showDeleteModal=!1,["stop"]))},[l(b,{onClick:t[2]||(t[2]=T=>e.showDeleteModal=!1)})]),i("h3",null,a(e.areYouSureDeleteMsg(e.shouldDeleteLog)),1),i("div",{class:"reset-description",innerHTML:o.strings.actionCannotBeUndone},null,8,Us),l(P,{type:"blue",size:"medium",onClick:e.processDeleteLog,loading:e.deletingLog},{default:n(()=>[m(a(e.confirmDeleteMsg(e.shouldDeleteLog)),1)]),_:1},8,["onClick","loading"]),l(P,{type:"gray",size:"medium",onClick:t[4]||(t[4]=T=>e.showDeleteModal=!1)},{default:n(()=>[m(a(o.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show"]),l(D,{show:!!e.activeRow,onClose:t[6]||(t[6]=T=>e.activeRow=null),classes:["aioseo-redirects-logs-modal"]},{headerTitle:n(()=>[m(a(o.strings.additionalInfo),1)]),body:n(()=>[i("div",As,[i("div",null,[i("strong",null,a(o.strings.url)+":",1),m(" "+a(e.sanitizeString(e.activeRow.url)),1)]),i("div",null,[i("strong",null,a(o.strings.hits)+":",1),m(" "+a(e.activeRow.hits),1)]),i("div",null,[i("strong",null,a(o.strings.lastAccessed)+":",1),m(" "+a(e.sqlDateToLogFormat(e.activeRow.last_accessed)),1)]),e.activeRow.ip?(u(),S("div",xs,[i("strong",null,a(o.strings.lastIp)+":",1),m(),i("code",null,a(e.sanitizeString(e.activeRow.ip)),1)])):_("",!0),e.activeRow.referrers.length?(u(),S("div",Es,[i("strong",null,a(o.strings.referrers)+":",1),i("table",Ms,[(u(!0),S(J,null,Y(e.activeRow.referrers,(T,E)=>(u(),S("tr",{key:E},[i("td",null,a(e.sanitizeString(T)),1)]))),128))])])):_("",!0),e.getHeaderInfo(e.activeRow)?(u(),S("div",Is,[i("strong",null,a(o.strings.headers)+":",1),i("table",Os,[(u(!0),S(J,null,Y(e.getHeaderInfo(e.activeRow),(T,E)=>(u(),S("tr",{key:E},[i("td",null,[i("strong",null,a(e.sanitizeString(E))+":",1)]),i("td",null,a(e.sanitizeString(T)),1)]))),128))])])):_("",!0)])]),_:1},8,["show"])])}const Bs=O(ks,[["render",Fs]]),Ns={},zs={viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-globe"},Js=i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M28 4.6665C15.12 4.6665 4.66669 15.1198 4.66669 27.9998C4.66669 40.8798 15.12 51.3332 28 51.3332C40.88 51.3332 51.3334 40.8798 51.3334 27.9998C51.3334 15.1198 40.88 4.6665 28 4.6665ZM9.33335 27.9998C9.33335 26.5765 9.52002 25.1765 9.82335 23.8465L20.9767 34.9998V37.3331C20.9767 39.8998 23.0767 41.9998 25.6434 41.9998V46.5031C16.4734 45.3365 9.33335 37.4965 9.33335 27.9998ZM37.3103 37.3333C39.4103 37.3333 41.137 38.71 41.7437 40.6C44.777 37.2866 46.667 32.8533 46.667 28C46.667 20.1833 41.8137 13.4633 34.977 10.71V11.6666C34.977 14.2333 32.877 16.3333 30.3103 16.3333H25.6437V21C25.6437 22.2833 24.5937 23.3333 23.3103 23.3333H18.6437V28H32.6437C33.927 28 34.977 29.05 34.977 30.3333V37.3333H37.3103Z",fill:"currentColor"},null,-1),Ws=[Js];function js(s,t){return u(),S("svg",zs,Ws)}const qs=O(Ns,[["render",js]]),Ys={},Gs={width:"54",height:"45",viewBox:"0 0 54 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-home"},Zs=i("path",{d:"M9.125 44.2148V24.2148H0.9375L27 0.839844L39.125 11.4648V4.71484H44.875V16.8398L53.0625 24.2148H44.875V44.2148H29.75V29.4648H24.25V44.2148H9.125ZM13.625 39.7148H19.75V24.9023H34.25V39.7148H40.375V18.9648L27 6.83984L13.625 18.9648V39.7148ZM19.75 24.9023H34.25H19.75ZM21.5 18.9023H32.5C32.5 17.444 31.9583 16.2357 30.875 15.2773C29.7917 14.319 28.5 13.8398 27 13.8398C25.5 13.8398 24.2083 14.319 23.125 15.2773C22.0417 16.2357 21.5 17.444 21.5 18.9023Z",fill:"#434960"},null,-1),Ks=[Zs];function Xs(s,t){return u(),S("svg",Gs,Ks)}const Qs=O(Ys,[["render",Xs]]),$s={},er={width:"50",height:"48",viewBox:"0 0 50 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-controls"},tr=i("path",{d:"M21.3254 47.1523V32.2773H26.1154V37.4648H49.2782V42.0273H26.1154V47.1523H21.3254ZM0.721741 42.0273V37.4648H17.7821V42.0273H0.721741ZM12.9921 31.2148V26.0898H0.721741V21.5898H12.9921V16.3398H17.7821V31.2148H12.9921ZM21.3254 26.0898V21.5898H49.2782V26.0898H21.3254ZM32.2178 15.4023V0.527344H37.0078V5.65234H49.2782V10.2148H37.0078V15.4023H32.2178ZM0.721741 10.2148V5.65234H28.6745V10.2148H0.721741Z",fill:"#434960"},null,-1),or=[tr];function sr(s,t){return u(),S("svg",er,or)}const rr=O($s,[["render",sr]]),M="aioseo-pro",ir={setup(){return{redirectsStore:B()}},components:{CoreAlert:oe,CoreSettingsRow:le,BaseToggle:st,BaseInput:rt,CoreCard:W,SvgHome:Qs,SvgControls:rr,BaseBoxToggle:Me},data(){return{strings:{advanced404s:r("Advanced 404 Settings",M),descriptionClosed:r("Our advanced 404 settings are not for everyone. While a 404 page may not seem like the best user experience, redirecting all your 404's may confuse your users who are looking for specific content. Instead it's always better to redirect content to real pages. If you're not sure what to do, just leave these settings off.",M),default404:r("Default 404 Redirect",M),descriptionDefault404:r("Enable default 404 redirect",M),home:r("Home Page",M),custom:r("Custom URL",M),advanced404:r("Advanced 404 Settings",M),redirectToHome:r("Redirect 404's to the Home Page",M),redirectToParent:r("Redirect 404's to the Parent Page or Parent Category",M),redirectingToHome:r("Your 404's will now be redirected to the Home Page. We'll still keep track of them in the 404 Logs.",M),redirectingToParent:r("Your 404's will now be redirected to their parent page or post. We'll still keep track of them in the 404 Logs.",M),redirectToParentWoocommerce:r("WooCommerce Support",M),redirectingToParentWoocommerce:r("Products and Product Categories will redirect to the shop page.",M),redirectingToParentUpgrade:x(r("Advanced 404 Management is not available for your current plan. %1$s",M),re.getUpsellLink("redirects",ie.learnMore,"404-settings",!0)),redirectingToCustom:r("Your 404's will now be redirected to the Custom URL below.",M),redirectingToCustomDescription:r("The Custom URL can be a Relative or Full URL.",M),redirectToSmart:r("Smart Slug Redirect",M),redirectingToSmart:r("Your 404's will now be redirected by the URL slug.",M)}}},computed:{has404ParentRedirect(){return wt.hasAddonFeature("aioseo-redirects","404-parent-redirect")}}},lr={class:"enable"},nr={key:0},ar={class:"option"},dr={key:0,class:"aioseo-description background"},cr={key:1,class:"aioseo-description background"},ur={class:"option"},pr={key:0,class:"aioseo-description"},gr={key:2,class:"aioseo-description"},mr={key:0,class:"aioseo-description"};function hr(s,t,g,e,o,d){const h=c("base-toggle"),f=c("svg-home"),R=c("svg-controls"),C=c("base-box-toggle"),y=c("base-input"),v=c("core-alert"),V=c("core-settings-row"),w=c("core-card");return u(),k(w,{slug:"404Settings",toggles:e.redirectsStore.options.advanced404s.enabled,disabled:!e.redirectsStore.options.advanced404s.enabled},{header:n(()=>[l(h,{modelValue:e.redirectsStore.options.advanced404s.enabled,"onUpdate:modelValue":t[0]||(t[0]=p=>e.redirectsStore.options.advanced404s.enabled=p)},null,8,["modelValue"]),i("span",null,a(o.strings.advanced404s),1)]),disabled:n(()=>[m(a(o.strings.descriptionClosed),1)]),default:n(()=>[l(V,{name:o.strings.default404,class:"redirects-defaults default-404"},{content:n(()=>[i("div",lr,[l(h,{modelValue:e.redirectsStore.options.advanced404s.redirectDefaultEnabled,"onUpdate:modelValue":t[1]||(t[1]=p=>e.redirectsStore.options.advanced404s.redirectDefaultEnabled=p)},{default:n(()=>[m(a(o.strings.descriptionDefault404),1)]),_:1},8,["modelValue"])]),e.redirectsStore.options.advanced404s.redirectDefaultEnabled?(u(),S("div",nr,[i("div",ar,[l(C,{name:"redirect404Default",modelValue:e.redirectsStore.options.advanced404s.redirectDefault,"onUpdate:modelValue":t[2]||(t[2]=p=>e.redirectsStore.options.advanced404s.redirectDefault=p),options:[{value:"home",slot:"home"},{value:"custom",slot:"custom"}]},{home:n(()=>[l(f),i("p",null,a(o.strings.home),1)]),custom:n(()=>[l(R),i("p",null,a(o.strings.custom),1)]),_:1},8,["modelValue"]),e.redirectsStore.options.advanced404s.redirectDefault==="home"?(u(),S("div",dr,a(o.strings.redirectingToHome),1)):_("",!0),e.redirectsStore.options.advanced404s.redirectDefault==="custom"?(u(),S("div",cr,[m(a(o.strings.redirectingToCustom)+" ",1),l(y,{modelValue:e.redirectsStore.options.advanced404s.redirectToCustomUrl,"onUpdate:modelValue":t[3]||(t[3]=p=>e.redirectsStore.options.advanced404s.redirectToCustomUrl=p)},null,8,["modelValue"]),m(" "+a(o.strings.redirectingToCustomDescription),1)])):_("",!0)])])):_("",!0),l(v,{type:"yellow",innerHTML:o.strings.descriptionClosed},null,8,["innerHTML"])]),_:1},8,["name"]),l(V,{name:o.strings.advanced404,class:"redirects-defaults"},{content:n(()=>[i("div",ur,[l(h,{modelValue:e.redirectsStore.options.advanced404s.redirectToSmart,"onUpdate:modelValue":t[4]||(t[4]=p=>e.redirectsStore.options.advanced404s.redirectToSmart=p)},{default:n(()=>[m(a(o.strings.redirectToSmart),1)]),_:1},8,["modelValue"]),e.redirectsStore.options.advanced404s.redirectToSmart?(u(),S("div",pr,a(o.strings.redirectingToSmart),1)):_("",!0)]),i("div",{class:K(["option",{disabled:!d.has404ParentRedirect}])},[d.has404ParentRedirect?(u(),k(h,{key:0,modelValue:e.redirectsStore.options.advanced404s.redirectToParent,"onUpdate:modelValue":t[5]||(t[5]=p=>e.redirectsStore.options.advanced404s.redirectToParent=p)},{default:n(()=>[m(a(o.strings.redirectToParent),1)]),_:1},8,["modelValue"])):_("",!0),d.has404ParentRedirect?_("",!0):(u(),k(h,{key:1,modelValue:!1,disabled:!0},{default:n(()=>[m(a(o.strings.redirectToParent),1)]),_:1})),d.has404ParentRedirect&&e.redirectsStore.options.advanced404s.redirectToParent?(u(),S("div",gr,a(o.strings.redirectingToParent),1)):_("",!0),d.has404ParentRedirect?_("",!0):(u(),k(v,{key:3,type:"yellow",innerHTML:o.strings.redirectingToParentUpgrade},null,8,["innerHTML"]))],2),d.has404ParentRedirect&&e.redirectsStore.options.advanced404s.redirectToParent?(u(),S("div",{key:0,class:K(["option",{disabled:!d.has404ParentRedirect}])},[l(h,{modelValue:e.redirectsStore.options.advanced404s.redirectToParentWoocommerce,"onUpdate:modelValue":t[6]||(t[6]=p=>e.redirectsStore.options.advanced404s.redirectToParentWoocommerce=p)},{default:n(()=>[m(a(o.strings.redirectToParentWoocommerce),1)]),_:1},8,["modelValue"]),e.redirectsStore.options.advanced404s.redirectToParentWoocommerce?(u(),S("div",mr,a(o.strings.redirectingToParentWoocommerce),1)):_("",!0)],2)):_("",!0)]),_:1},8,["name"])]),_:1},8,["toggles","disabled"])}const _r=O(ir,[["render",hr],["__scopeId","data-v-1d5cf48f"]]),H="aioseo-pro",fr={setup(){const{getJsonValue:s,setJsonValue:t}=_t();return{GLOBAL_STRINGS:ie,REDIRECT_QUERY_PARAMS:nt,REDIRECT_TYPES:Le,getJsonValue:s,redirectsStore:B(),rootStore:Q(),setJsonValue:t}},components:{BaseBoxToggle:Me,CoreAlert:oe,CoreCard:W,CorePostTypeOptions:St,CoreSettingsRow:le,CoreTooltip:te,ServerConfigReloadWarning:se,SvgCircleQuestionMark:it,SvgGlobe:qs,SvgPhp:ft,TableColumn:vt,TableRow:bt,BaseSelect:lt,Advanced404s:_r},data(){return{saving:!1,nginxLoading:!1,apacheLoading:!1,strings:{redirectSettings:r("Redirect Settings",H),redirectMethod:r("Redirect Method",H),unknownServer:x(r("We cannot detect your web server. Server redirects are disabled. %1$s",H),re.getDocLink(ie.learnMore,"redirectUnknownWebserver",!0)),php:r("PHP",H),webServer:r("Web Server",H),logs:r("Logs",H),ipLogging:r("IP Logging",H),httpCacheHeader:r("HTTP Cache Header",H),redirectDefaults:r("Redirect Defaults",H),logs404:r("404 Logs",H),redirectLogs:r("Redirect Logs",H),logExternal:r("Log External Redirects",H),logHttpHeader:r("Log HTTP Header Information",H),ignoreCase:r("Ignore Case",H),ignoreSlash:r("Ignore Slash",H),cacheRedirects:r("Cache Redirects",H),objectCache:r("Object Cache",H),ipLoggingDescription:x(r("%1$sGDPR / Privacy information%2$s",H),'<a target="_blank" href="'+re.getDocUrl("redirectGdpr")+'">',"</a>"),logIpAddresses:r("Log IP Addresses",H),redirectType:r("Redirect Type",H),queryParams:r("Query Parameters",H),logExternalDescription:x(r("Log redirects that happen on your site even if the redirect happened outside of %1$s",H),"AIOSEO"),logHeaderInformationDescription:r("Capture HTTP header information with the logs (except for cookies).",H),exportNginxConfigFile:x(r("Export %1$s config file",H),"NGINX"),exportHtaccessFile:x(r("Export %1$s file",H),".htaccess"),autoWriteHtaccess:x(r("Auto-write to %1$s",H),".htaccess"),monitorChanges:r("Automatic Redirects",H),includeAllPostTypes:r("Include All Post Types",H),monitorTrash:r("Monitor Trash",H),monitorChangesTooltip:r('This allows you to monitor changes to post types and automatically add redirects based on URL changes. These will show up with a group called "Modified Posts".',H)},lengthOptions:[{label:r("1 hour",H),value:"hour"},{label:r("1 day",H),value:"day"},{label:r("1 week",H),value:"week"},{label:r("Forever",H),value:"forever"}],ipLoggingOptions:[{label:r("Full Logging",H),value:"full"},{label:r("Anonymize IP",H),value:"anonymous"}]}},computed:{serverDetected(){return x(r("%1$s Server has been detected.",H),this.detectedServer)},detectedServer(){switch(this.rootStore.aioseo.data.server){case"apache":return"Apache";case"nginx":return"nginx";case"litespeed":return"LiteSpeed";default:return""}},missingInclude(){if(this.rootStore.aioseo.data.server.match(/apache|nginx/)){const s=this.rootStore.aioseo.data.server==="apache"?"Include ":"include ",t=this.rootStore.aioseo.data.server==="nginx"?";":"",g="<br><code>"+s+this.redirectsStore.server.filePath+t+"</code>";return x(r("Make sure you include the following in your server configuration file: %1$s",H),g)}return this.rootStore.aioseo.data.server==="litespeed"?x(r("Please export the .htaccess file clicking the button below and copy/paste the contents into your %1$ssite's .htaccess file%2$s.",H),'<a href="?page=aioseo-tools#/htaccess-editor">',"</a>"):""}},methods:{exportRedirects(s){this[s+"Loading"]=!0,this.redirectsStore.exportServerRedirects(s).then(t=>{this[s+"Loading"]=!1;const g=s==="apache"?"htaccess":s,e=new Blob([t.body.redirects]),o=document.createElement("a");o.href=URL.createObjectURL(e),o.download=`aioseo-export-redirects-${fe.now().toFormat("yyyy-MM-dd")}.${g}`,o.click(),URL.revokeObjectURL(o.href)})}}},Sr={class:"aioseo-redirects-settings"},vr={key:0,class:"web-server-settings"},br=["innerHTML"],wr={class:"option"},yr={class:"option"},Rr={class:"option"},Cr={class:"option"},Vr={class:"option"},kr={class:"aioseo-description"},Tr={class:"option"},Lr={class:"aioseo-description"};function Hr(s,t,g,e,o,d){const h=c("server-config-reload-warning"),f=c("svg-php"),R=c("svg-globe"),C=c("base-box-toggle"),y=c("core-alert"),v=c("base-button"),V=c("core-settings-row"),w=c("base-toggle"),p=c("table-column"),b=c("base-select"),P=c("table-row"),D=c("svg-circle-question-mark"),T=c("core-tooltip"),E=c("core-post-type-options"),z=c("core-card"),$=c("advanced-404s");return u(),S("div",Sr,[l(h),l(z,{slug:"redirectSettings","header-text":o.strings.redirectSettings},{default:n(()=>[l(V,{name:o.strings.redirectMethod},{content:n(()=>[l(C,{modelValue:e.redirectsStore.options.main.method,"onUpdate:modelValue":t[0]||(t[0]=L=>e.redirectsStore.options.main.method=L),name:"breadcrumbsType",options:[{value:"php",slot:"php"},{value:"server",slot:"server"}]},{php:n(()=>[l(f),i("p",null,a(o.strings.php),1)]),server:n(()=>[l(R),i("p",null,a(o.strings.webServer),1)]),_:1},8,["modelValue"]),e.redirectsStore.options.main.method==="server"?(u(),S("div",vr,[d.detectedServer?_("",!0):(u(),k(y,{key:0,class:"detected-web-server unknown",type:"red",innerHTML:o.strings.unknownServer},null,8,["innerHTML"])),d.detectedServer?(u(),S(J,{key:1},[l(y,{class:"detected-web-server",type:"blue"},{default:n(()=>[m(a(d.serverDetected),1)]),_:1}),e.redirectsStore.server.redirectTest.failed===!0?(u(),k(y,{key:0,type:"yellow",class:"missing-include",innerHTML:d.missingInclude},null,8,["innerHTML"])):_("",!0)],64)):_("",!0),l(v,{type:"gray",size:"medium",onClick:t[1]||(t[1]=L=>d.exportRedirects("nginx")),loading:o.nginxLoading},{default:n(()=>[m(a(o.strings.exportNginxConfigFile),1)]),_:1},8,["loading"]),l(v,{type:"gray",size:"medium",onClick:t[2]||(t[2]=L=>d.exportRedirects("apache")),loading:o.apacheLoading},{default:n(()=>[m(a(o.strings.exportHtaccessFile),1)]),_:1},8,["loading"])])):_("",!0)]),_:1},8,["name"]),l(V,{name:o.strings.logs,class:"redirects-logs"},{content:n(()=>[l(P,null,{default:n(()=>[l(p,null,{default:n(()=>[l(w,{modelValue:e.redirectsStore.options.logs.log404.enabled,"onUpdate:modelValue":t[3]||(t[3]=L=>e.redirectsStore.options.logs.log404.enabled=L)},{default:n(()=>[m(a(o.strings.logs404),1)]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:n(()=>[l(b,{size:"medium",options:o.lengthOptions,disabled:!e.redirectsStore.options.logs.log404.enabled,modelValue:e.getJsonValue(e.redirectsStore.options.logs.log404.length),"onUpdate:modelValue":t[4]||(t[4]=L=>e.redirectsStore.options.logs.log404.length=e.setJsonValue(L))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1}),e.redirectsStore.options.main.method==="php"?(u(),k(P,{key:0},{default:n(()=>[l(p,null,{default:n(()=>[l(w,{modelValue:e.redirectsStore.options.logs.redirects.enabled,"onUpdate:modelValue":t[5]||(t[5]=L=>e.redirectsStore.options.logs.redirects.enabled=L)},{default:n(()=>[m(a(o.strings.redirectLogs),1)]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:n(()=>[l(b,{size:"medium",options:o.lengthOptions,disabled:!e.redirectsStore.options.logs.redirects.enabled,modelValue:e.getJsonValue(e.redirectsStore.options.logs.redirects.length),"onUpdate:modelValue":t[6]||(t[6]=L=>e.redirectsStore.options.logs.redirects.length=e.setJsonValue(L))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1})):_("",!0),e.redirectsStore.options.logs.redirects.enabled&&e.redirectsStore.options.main.method==="php"?(u(),k(P,{key:1},{default:n(()=>[l(p,null,{default:n(()=>[l(w,{modelValue:e.redirectsStore.options.logs.external,"onUpdate:modelValue":t[7]||(t[7]=L=>e.redirectsStore.options.logs.external=L)},{default:n(()=>[m(a(o.strings.logExternal)+" ",1),l(T,null,{tooltip:n(()=>[m(a(o.strings.logExternalDescription),1)]),default:n(()=>[l(D)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):_("",!0),e.redirectsStore.options.logs.redirects.enabled&&e.redirectsStore.options.main.method==="php"||e.redirectsStore.options.logs.log404.enabled?(u(),k(P,{key:2},{default:n(()=>[l(p,null,{default:n(()=>[l(w,{modelValue:e.redirectsStore.options.logs.httpHeader,"onUpdate:modelValue":t[8]||(t[8]=L=>e.redirectsStore.options.logs.httpHeader=L)},{default:n(()=>[m(a(o.strings.logHttpHeader)+" ",1),l(T,null,{tooltip:n(()=>[m(a(o.strings.logHeaderInformationDescription),1)]),default:n(()=>[l(D)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):_("",!0)]),_:1},8,["name"]),e.redirectsStore.options.logs.redirects.enabled&&e.redirectsStore.options.main.method==="php"||e.redirectsStore.options.logs.log404.enabled?(u(),k(V,{key:0,name:o.strings.ipLogging,align:"",class:"redirects-ip-logging"},{content:n(()=>[l(P,null,{default:n(()=>[l(p,null,{default:n(()=>[l(w,{modelValue:e.redirectsStore.options.logs.ipAddress.enabled,"onUpdate:modelValue":t[9]||(t[9]=L=>e.redirectsStore.options.logs.ipAddress.enabled=L)},{default:n(()=>[m(a(o.strings.logIpAddresses),1)]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:n(()=>[l(b,{size:"medium",options:o.ipLoggingOptions,disabled:!e.redirectsStore.options.logs.ipAddress.enabled,modelValue:e.getJsonValue(e.redirectsStore.options.logs.ipAddress.level),"onUpdate:modelValue":t[10]||(t[10]=L=>e.redirectsStore.options.logs.ipAddress.level=e.setJsonValue(L))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1}),l(P,null,{default:n(()=>[l(p,null,{default:n(()=>[i("div",{class:"aioseo-description",innerHTML:o.strings.ipLoggingDescription},null,8,br)]),_:1})]),_:1})]),_:1},8,["name"])):_("",!0),e.redirectsStore.options.main.method==="php"?(u(),S(J,{key:1},[e.redirectsStore.options.logs.redirects.enabled&&e.redirectsStore.options.main.method==="php"?(u(),k(V,{key:0,name:o.strings.httpCacheHeader,align:"",class:"redirects-cache"},{content:n(()=>[l(P,null,{default:n(()=>[l(p,null,{default:n(()=>[l(w,{modelValue:e.redirectsStore.options.cache.httpHeader.enabled,"onUpdate:modelValue":t[11]||(t[11]=L=>e.redirectsStore.options.cache.httpHeader.enabled=L)},{default:n(()=>[m(a(o.strings.cacheRedirects),1)]),_:1},8,["modelValue"])]),_:1}),l(p,null,{default:n(()=>[l(b,{size:"medium",options:o.lengthOptions,disabled:!e.redirectsStore.options.cache.httpHeader.enabled,modelValue:e.getJsonValue(e.redirectsStore.options.cache.httpHeader.length),"onUpdate:modelValue":t[12]||(t[12]=L=>e.redirectsStore.options.cache.httpHeader.length=e.setJsonValue(L))},null,8,["options","disabled","modelValue"])]),_:1})]),_:1})]),_:1},8,["name"])):_("",!0)],64)):_("",!0),l(V,{name:o.strings.monitorChanges,class:"redirects-monitor"},{name:n(()=>[m(a(o.strings.monitorChanges)+" ",1),l(T,null,{tooltip:n(()=>[m(a(o.strings.monitorChangesTooltip),1)]),default:n(()=>[l(D)]),_:1})]),content:n(()=>[i("div",wr,[l(w,{size:"medium",modelValue:e.redirectsStore.options.monitor.postTypes.all,"onUpdate:modelValue":t[13]||(t[13]=L=>e.redirectsStore.options.monitor.postTypes.all=L)},{default:n(()=>[m(a(o.strings.includeAllPostTypes),1)]),_:1},8,["modelValue"])]),e.redirectsStore.options.monitor.postTypes.all?_("",!0):(u(),k(E,{key:0,options:e.redirectsStore.options.monitor,type:"postTypes",excluded:["attachment"]},null,8,["options"])),i("div",yr,[l(w,{size:"medium",modelValue:e.redirectsStore.options.monitor.trash,"onUpdate:modelValue":t[14]||(t[14]=L=>e.redirectsStore.options.monitor.trash=L)},{default:n(()=>[m(a(o.strings.monitorTrash),1)]),_:1},8,["modelValue"])])]),_:1},8,["name"]),l(V,{name:o.strings.redirectDefaults,class:"redirects-defaults"},{content:n(()=>[i("div",Rr,[l(w,{modelValue:e.redirectsStore.options.redirectDefaults.ignoreSlash,"onUpdate:modelValue":t[15]||(t[15]=L=>e.redirectsStore.options.redirectDefaults.ignoreSlash=L)},{default:n(()=>[m(a(o.strings.ignoreSlash),1)]),_:1},8,["modelValue"])]),i("div",Cr,[l(w,{modelValue:e.redirectsStore.options.redirectDefaults.ignoreCase,"onUpdate:modelValue":t[16]||(t[16]=L=>e.redirectsStore.options.redirectDefaults.ignoreCase=L)},{default:n(()=>[m(a(o.strings.ignoreCase),1)]),_:1},8,["modelValue"])]),i("div",Vr,[i("div",kr,a(o.strings.redirectType),1),l(b,{modelValue:e.getJsonValue(e.redirectsStore.options.redirectDefaults.redirectType),"onUpdate:modelValue":t[17]||(t[17]=L=>e.redirectsStore.options.redirectDefaults.redirectType=e.setJsonValue(L)),size:"medium",options:e.REDIRECT_TYPES},null,8,["modelValue","options"])]),i("div",Tr,[i("div",Lr,a(o.strings.queryParams),1),l(b,{modelValue:e.getJsonValue(e.redirectsStore.options.redirectDefaults.queryParam),"onUpdate:modelValue":t[18]||(t[18]=L=>e.redirectsStore.options.redirectDefaults.queryParam=e.setJsonValue(L)),size:"medium",options:e.REDIRECT_QUERY_PARAMS},null,8,["modelValue","options"])])]),_:1},8,["name"])]),_:1},8,["header-text"]),l($)])}const Dr=O(fr,[["render",Hr]]),tl={__name:"Main",setup(s){const t="all-in-one-seo-pack",g=Fe(),e=Be(),o=me(()=>g.name==="full-site-redirect"?To:g.name==="import-export"?us:g.name==="logs"?Vs:g.name==="logs-404"?Bs:g.name==="redirects"?Ce:g.name==="settings"?Dr:Ce),{getExcludedActivationTabs:d}=We(),{getExcludedUpdateTabs:h}=je(),f={pageName:r("Redirects",t)},R=me(()=>g.name!=="redirects"&&g.name!=="groups"&&g.name!=="logs-404"&&g.name!=="logs"&&g.name!=="import-export"),C=B(),y=me(()=>{var V,w,p,b,P,D,T,E;const v=Je.isActive("aioseo-redirects")?h(e,"aioseo-redirects"):d(e,"aioseo-redirects");return(p=(w=(V=C.options)==null?void 0:V.logs)==null?void 0:w.log404)!=null&&p.enabled||v.push("logs-404"),(!((D=(P=(b=C.options)==null?void 0:b.logs)==null?void 0:P.redirects)!=null&&D.enabled)||((E=(T=C.options)==null?void 0:T.main)==null?void 0:E.method)==="server")&&v.push("logs"),v});return(v,V)=>(u(),k(tt(qe),{"page-name":f.pageName,"show-save-button":R.value,"exclude-tabs":y.value},{default:n(()=>[(u(),k(ot(o.value)))]),_:1},8,["page-name","show-save-button","exclude-tabs"]))}};export{tl as default};
