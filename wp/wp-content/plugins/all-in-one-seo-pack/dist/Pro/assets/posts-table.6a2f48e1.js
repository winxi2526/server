import{o as n,d as g,e as l,y as u,c as h,b as c,w as r,a as d,t as o,H as p,J as f,x as lt,K as Z,Y as F,k as q}from"./js/runtime-dom.esm-bundler.d8b05b6d.js";import{l as rt}from"./js/index.1e409735.js";import{l as at}from"./js/index.62c20ef8.js";import{l as ct}from"./js/index.d80c2c2c.js";import{u as O,a as G,m as J,v as K,h as D,b as L,l as B}from"./js/index.684c656d.js";import{a as dt}from"./js/allowed.d1f2b87f.js";import{u as Q}from"./js/TruSeoScore.f636395a.js";import{t as X}from"./js/html.7cb59739.js";import{l as M}from"./js/license.a1ca2d82.js";import{p as pt,t as ut}from"./js/helpers.aece81b9.js";import{_ as Y,b as W,f as $}from"./js/Caret.2e43336b.js";import{C as tt}from"./js/HtmlTagsEditor.2e99bf40.js";import{_ as mt}from"./js/ScoreButton.3ceee881.js";import{C as H}from"./js/Tooltip.f699c54b.js";import{_ as ht}from"./js/IndexStatus.9cfcfb5a.js";import{S as gt}from"./js/LogoGear.ffb86d6f.js";import{_ as E}from"./js/_plugin-vue_export-helper.eefbdd86.js";import"./js/translations.d159963e.js";import{_ as v,s as U}from"./js/default-i18n.20001971.js";import{S as _t,a as ft,b as wt}from"./js/Affiliate.fc891890.js";import{S as vt}from"./js/External.5ab5cd1b.js";/* empty css                */import"./js/helpers.2304d5ee.js";import"./js/deburr.ef08c7b4.js";import"./js/toString.ddc58e67.js";import"./js/upperFirst.d10eb25f.js";import"./js/metabox.9787fdb7.js";import"./js/cleanForSlug.fc011207.js";import"./js/contentHasAssets.e1428256.js";import"./js/_baseSet.a2dfaed5.js";import"./js/regex.8a6101c0.js";import"./js/tags.4b35a532.js";import"./js/Editor.2e93bf84.js";import"./js/isEqual.4ddce6d4.js";import"./js/_baseIsEqual.fbe0f200.js";import"./js/_getTag.f48446e8.js";import"./js/_baseClone.72ffba34.js";import"./js/_arrayEach.6af5abac.js";import"./js/_getAllKeysIn.4f27d7aa.js";import"./js/UnfilteredHtml.66a6b8ca.js";import"./js/constants.ee441da2.js";import"./js/IndexStatus.834385fc.js";import"./js/Calendar.ab3812e2.js";import"./js/Exclamation.e58309d9.js";import"./js/Mobile.ab0d78f4.js";import"./js/Link.54c806ca.js";import"./js/CheckSolid.6a15f8e6.js";import"./js/CloseSolid.a21e91be.js";import"./js/ExclamationSolid.2117778a.js";const yt={},Tt={viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-headline-analyzer"},kt=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5448 1.76771H14.6665V1.79272L10.5448 4.61008V1.76771ZM5.46515 8.08232V1.76779H1.34351V4.8899L1.34378 4.71192L5.42731 8.10819L5.46515 8.08232ZM1.34351 11.4568L5.46515 14.2652V15.0999H1.34351V11.4568ZM10.5448 10.8851L14.6665 8.14027V15.0982H10.5448V10.8851Z",fill:"currentColor"},null,-1),bt=l("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.46515 8.05739L5.42731 8.08325L1.34378 4.68698L1.34351 4.86412V1.76779H5.46515V8.05739ZM5.46515 14.2083L1.34351 11.3998V15.0999H5.46515V14.2083ZM10.5448 10.8281L14.6665 8.08332V15.0982H10.5448V10.8281ZM14.6665 1.76778L10.5448 4.58515V1.76771H14.6665V1.76778Z",fill:"currentColor"},null,-1),Ct=l("path",{d:"M5.42725 9.45857L14.6665 3.14303V6.76487L5.46703 12.8912L1.33325 10.0745L1.34372 6.06231L5.42725 9.45857Z",fill:"currentColor"},null,-1),St=[kt,bt,Ct];function It(e,s){return n(),g("svg",Tt,St)}const Et=E(yt,[["render",It]]),S="all-in-one-seo-pack",Dt={setup(){const{runAnalysis:e,strings:s}=Q();return{composableStrings:s,optionsStore:O(),rootStore:G(),runAnalysis:e,searchStatisticsStore:J()}},components:{BaseButton:Y,CoreHtmlTagsEditor:tt,CoreLoader:W,CoreScoreButton:mt,CoreTooltip:H,IndexStatus:ht,SvgAioseoLogoGear:gt,SvgHeadlineAnalyzer:Et,SvgPencil:$},props:{post:Object,posts:Array},data(){return{allowed:dt,postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,inspectionResult:{},inspectionResultLoading:!0,postLoading:!1,strings:K(this.composableStrings,{title:v("Title",S),description:v("Description",S),imageTitle:v("Image Title",S),imageAltTag:v("Image Alt Tag",S),saveChanges:v("Save Changes",S),discardChanges:v("Discard Changes",S),truSeoScore:v("TruSEO Score",S),headlineScore:v("Headline Score",S)}),license:M}},computed:{showIndexStatus(){if(!this.rootStore.isPro||!M.hasCoreFeature("search-statistics","index-status"))return!1;const e=!this.searchStatisticsStore.unverifiedSite,s=!!this.searchStatisticsStore.isConnected,i=this.allowed("aioseo_search_statistics_settings");return e&&s&&i},showHeadlineAnalyzer(){return this.rootStore.aioseo.data.isClassicEditorActive||this.post.postType==="product"||this.post.postType==="web-story"?!1:this.optionsStore.options.advanced.headlineAnalyzer}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,this.postLoading=!0,D.post(L.restUrl("posts-list/update-details-column")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.post.titleParsed=e.body.title,this.post.descriptionParsed=e.body.description,this.$root.$data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(e=>{console.error(`Unable to update post with ID ${this.post.id}: ${e}`)}).finally(()=>{this.postLoading=!1})},saveColumn(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,D.post(L.restUrl("posts-list/update-details-column")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{this.updatePostTitle(this.post.id,this.post.imageTitle)}).catch(e=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${e}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},truncate:X,updatePostTitle(e,s){const i=document.getElementById(`post-${e}`);if(!i)return;const m=i.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!m)return;const t=m.getElementsByTagName("span")[0];m.innerText=s,m.prepend(t)},updateInspectionResult(e){const{inspectionResult:s,inspectionResultLoading:i}=e;this.inspectionResult=s,this.inspectionResultLoading=i}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed,this.inspectionResult=this.post.inspectionResult,this.inspectionResultLoading=this.post.inspectionResultLoading,this.post.reload&&this.save(),window.aioseoBus.$on("updateInspectionResult"+this.postId,this.updateInspectionResult)},beforeUnmount(){window.aioseoBus.$off("updateInspectionResult"+this.postId,this.updateInspectionResult)},async created(){this.showTruSeo=pt()}},Lt={key:0,class:"edit-row scores"},Pt={class:"edit-row edit-title"},At={key:0},xt=l("strong",null,":",-1),Vt={key:1,class:"edit-row"},Rt={class:"edit-row edit-description"},Mt=["id"],Nt=l("strong",null,":",-1),zt={key:2,class:"edit-row"},Ot={class:"edit-row edit-image-title"},Bt=["id"],Ht=l("strong",null,":",-1),Ut={key:3,class:"edit-row"},jt={class:"edit-row edit-image-alt"},Zt=["id"],Ft=l("strong",null,":",-1),qt={key:4,class:"edit-row"};function Gt(e,s,i,m,t,a){const w=u("index-status"),T=u("svg-headline-analyzer"),k=u("core-score-button"),_=u("core-tooltip"),y=u("svg-aioseo-logo-gear"),b=u("core-loader"),P=u("svg-pencil"),A=u("core-html-tags-editor"),C=u("base-button");return n(),g("div",{class:Z(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}])},[l("div",null,[e.$root.$data.screen.base==="edit"&&!t.isSpecialPage?(n(),g("div",Lt,[a.showIndexStatus?(n(),h(w,{key:0,result:t.inspectionResult,loading:t.inspectionResultLoading,viewable:i.post.isPostVisible,"tooltip-offset":"-150px,0"},null,8,["result","loading","viewable"])):c("",!0),a.showHeadlineAnalyzer?(n(),h(_,{key:1,type:"action"},{tooltip:r(()=>[d(o(t.strings.headlineScore),1)]),default:r(()=>[p(k,{score:i.post.headlineScore,postId:t.postId},{icon:r(()=>[p(T)]),_:1},8,["score","postId"])]),_:1})):c("",!0),t.showTruSeo&&t.allowed("aioseo_page_analysis")?(n(),h(_,{key:2,type:"action"},{tooltip:r(()=>[d(o(t.strings.truSeoScore),1)]),default:r(()=>[p(k,{score:i.post.value,postId:t.postId},{icon:r(()=>[p(y)]),_:1},8,["score","postId"])]),_:1})):c("",!0)])):c("",!0),l("div",null,[t.allowed("aioseo_page_general_settings")&&i.post.showTitle?(n(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditTitle},{tooltip:r(()=>[l("strong",null,o(t.strings.title)+":",1),d(" "+o(t.titleParsed),1)]),default:r(()=>[l("div",Pt,[l("strong",null,o(t.strings.title),1),t.showEditTitle?c("",!0):(n(),g("span",At,[xt,d(" "+o(a.truncate(t.titleParsed,100)),1)])),t.postLoading?(n(),h(b,{key:1,dark:""})):c("",!0),t.showEditTitle?c("",!0):(n(),h(P,{key:2,class:"pencil-icon",onClick:f(a.editTitle,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditTitle?(n(),g("div",Vt,[p(A,{modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=I=>t.title=I),"line-numbers":!1,single:"","tags-context":"postTitle",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["post_title"]},null,8,["modelValue"]),p(C,{type:"gray",size:"small",onClick:f(a.cancel,["prevent"])},{default:r(()=>[d(o(t.strings.discardChanges),1)]),_:1},8,["onClick"]),p(C,{type:"blue",size:"small",onClick:f(a.save,["prevent"])},{default:r(()=>[d(o(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),l("div",null,[t.allowed("aioseo_page_general_settings")&&i.post.showDescription?(n(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditDescription},{tooltip:r(()=>[l("strong",null,o(t.strings.description)+":",1),d(" "+o(a.truncate(t.descriptionParsed)),1)]),default:r(()=>[l("div",Rt,[l("strong",null,o(t.strings.description),1),t.showEditDescription?c("",!0):(n(),g("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[Nt,d(" "+o(a.truncate(t.descriptionParsed)),1)],8,Mt)),t.postLoading?(n(),h(b,{key:1,dark:""})):c("",!0),t.showEditDescription?c("",!0):(n(),h(P,{key:2,class:"pencil-icon",onClick:f(a.editDescription,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditDescription?(n(),g("div",zt,[p(A,{modelValue:t.postDescription,"onUpdate:modelValue":s[1]||(s[1]=I=>t.postDescription=I),"line-numbers":!1,"tags-context":"postDescription",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["post_excerpt"]},null,8,["modelValue"]),p(C,{type:"gray",size:"small",onClick:f(a.cancel,["prevent"])},{default:r(()=>[d(o(t.strings.discardChanges),1)]),_:1},8,["onClick"]),p(C,{type:"blue",size:"small",onClick:f(a.save,["prevent"])},{default:r(()=>[d(o(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),lt(e.$slots,"default"),l("div",null,[e.$root.$data.screen.base==="upload"&&i.post.showMedia?(n(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditImageTitle},{tooltip:r(()=>[l("strong",null,o(t.strings.imageTitle)+":",1),d(" "+o(t.imageTitle),1)]),default:r(()=>[l("div",Ot,[l("strong",null,o(t.strings.imageTitle),1),t.showEditImageTitle?c("",!0):(n(),g("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[Ht,d(" "+o(t.imageTitle),1)],8,Bt)),t.showEditImageTitle?c("",!0):(n(),h(P,{key:1,class:"pencil-icon",onClick:f(a.editImageTitle,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditImageTitle?(n(),g("div",Ut,[p(A,{modelValue:t.imageTitle,"onUpdate:modelValue":s[2]||(s[2]=I=>t.imageTitle=I),"line-numbers":!1,single:"","tags-context":"imageSeoTitleColumn",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":[]},null,8,["modelValue"]),p(C,{type:"gray",size:"small",onClick:f(a.cancel,["prevent"])},{default:r(()=>[d(o(t.strings.discardChanges),1)]),_:1},8,["onClick"]),p(C,{type:"blue",size:"small",onClick:f(a.saveColumn,["prevent"])},{default:r(()=>[d(o(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),l("div",null,[e.$root.$data.screen.base==="upload"&&i.post.showMedia?(n(),h(_,{key:0,class:"aioseo-details-column__tooltip",disabled:t.showEditImageAltTag},{tooltip:r(()=>[l("strong",null,o(t.strings.imageAltTag)+":",1),d(" "+o(t.imageAltTag),1)]),default:r(()=>[l("div",jt,[l("strong",null,o(t.strings.imageAltTag),1),t.showEditImageAltTag?c("",!0):(n(),g("span",{key:0,id:`aioseo-${t.columnName}-${t.postId}-value`},[Ft,d(" "+o(t.imageAltTag),1)],8,Zt)),t.showEditImageAltTag?c("",!0):(n(),h(P,{key:1,class:"pencil-icon",onClick:f(a.editImageAlt,["prevent"])},null,8,["onClick"]))])]),_:1},8,["disabled"])):c("",!0)]),t.showEditImageAltTag?(n(),g("div",qt,[p(A,{modelValue:t.imageAltTag,"onUpdate:modelValue":s[3]||(s[3]=I=>t.imageAltTag=I),"line-numbers":!1,single:"","tags-context":"imageSeoAltColumn",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":[]},null,8,["modelValue"]),p(C,{type:"gray",size:"small",onClick:f(a.cancel,["prevent"])},{default:r(()=>[d(o(t.strings.discardChanges),1)]),_:1},8,["onClick"]),p(C,{type:"blue",size:"small",onClick:f(a.saveColumn,["prevent"])},{default:r(()=>[d(o(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0)])],2)}const et=E(Dt,[["render",Gt]]),x="aioseo-pro",Jt={components:{CorePostColumn:et,CoreTooltip:H,SvgLinkAffiliate:_t,SvgLinkExternal:vt,SvgLinkInternalInbound:ft,SvgLinkInternalOutbound:wt},props:{post:Object},data(){return{strings:{inboundInternal:U(v("%1$sInbound Internal Links%2$sLinks from other posts to this post",x),"<strong>","</strong><br />"),outboundInternal:U(v("%1$sOutbound Internal Links%2$sLinks from this post to other posts",x),"<strong>","</strong><br />"),affiliate:v("Affiliate",x),external:v("External",x)}}}},Kt={key:0,class:"links"},Qt=["innerHTML"],Xt=["innerHTML"];function Yt(e,s,i,m,t,a){const w=u("svg-link-internal-inbound"),T=u("core-tooltip"),k=u("svg-link-internal-outbound"),_=u("svg-link-affiliate"),y=u("svg-link-external"),b=u("core-post-column");return n(),h(b,{post:i.post},{default:r(()=>[i.post.linkCounts&&i.post.postType!=="attachment"?(n(),g("div",Kt,[p(T,{type:"action"},{tooltip:r(()=>[l("div",{innerHTML:t.strings.inboundInternal},null,8,Qt)]),default:r(()=>[l("div",null,[p(w),d(" "+o(i.post.linkCounts.inboundInternal),1)])]),_:1}),p(T,{type:"action"},{tooltip:r(()=>[l("div",{innerHTML:t.strings.outboundInternal},null,8,Xt)]),default:r(()=>[l("div",null,[p(k),d(" "+o(i.post.linkCounts.outboundInternal),1)])]),_:1}),p(T,{type:"action"},{tooltip:r(()=>[d(o(t.strings.affiliate),1)]),default:r(()=>[l("div",null,[p(_),d(" "+o(i.post.linkCounts.affiliate),1)])]),_:1}),p(T,{type:"action"},{tooltip:r(()=>[d(o(t.strings.external),1)]),default:r(()=>[l("div",null,[p(y),d(" "+o(i.post.linkCounts.external),1)])]),_:1})])):c("",!0)]),_:1},8,["post"])}const Wt=E(Jt,[["render",Yt]]),$t={components:{CorePostColumn:et},props:{post:Object}};function te(e,s,i,m,t,a){const w=u("core-post-column");return n(),h(w,{post:i.post},null,8,["post"])}const ee=E($t,[["render",te]]),se={setup(){return{rootStore:G()}},components:{PostColumn:Wt,PostColumnLite:ee},props:{post:Object}},ie={class:"aioseo-app"};function oe(e,s,i,m,t,a){const w=u("PostColumn"),T=u("PostColumnLite");return n(),g("div",ie,[m.rootStore.isPro?(n(),h(w,{key:0,post:i.post},null,8,["post"])):c("",!0),m.rootStore.isPro?c("",!0):(n(),h(T,{key:1,post:i.post},null,8,["post"]))])}const ne=E(se,[["render",oe]]),V="all-in-one-seo-pack",le={setup(){const{strings:e}=Q();return{composableStrings:e}},components:{BaseButton:Y,CoreHtmlTagsEditor:tt,CoreLoader:W,CoreTooltip:H,SvgPencil:$},props:{term:Object,terms:Array,index:Number},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,termLoading:!1,showTitle:!0,showDescription:!0,strings:K(this.composableStrings,{title:v("Title",V),description:v("Description",V),saveChanges:v("Save Changes",V),discardChanges:v("Discard Changes",V)})}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,this.termLoading=!0,D.post(L.restUrl("terms-list/update-details-column")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.term.titleParsed=e.body.title,this.term.descriptionParsed=e.body.description,this.showTitle=e.body.showTitle,this.showDescription=e.body.showDescription}).catch(e=>{console.error(`Unable to update term with ID ${this.term.id}: ${e}`)}).finally(()=>{this.termLoading=!1})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},truncate:X},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed,this.showTitle=this.term.showTitle,this.showDescription=this.term.showDescription,this.term.reload&&this.save()},async created(){this.showTruSeo=ut()}},re={class:"aioseo-app"},ae={key:0},ce={class:"edit-row edit-title"},de={key:0},pe=l("strong",null,":",-1),ue={key:1,class:"edit-row"},me={key:2},he={class:"edit-row edit-description"},ge={key:0},_e=l("strong",null,":",-1),fe={key:3,class:"edit-row"};function we(e,s,i,m,t,a){const w=u("core-loader"),T=u("svg-pencil"),k=u("core-tooltip"),_=u("core-html-tags-editor"),y=u("base-button");return n(),g("div",re,[l("div",{class:Z(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription}])},[l("div",null,[t.showTitle?(n(),g("div",ae,[p(k,{class:"aioseo-details-column__tooltip"},{tooltip:r(()=>[l("strong",null,o(t.strings.title)+":",1),d(" "+o(t.titleParsed),1)]),default:r(()=>[l("div",ce,[l("strong",null,o(t.strings.title),1),t.showEditTitle?c("",!0):(n(),g("span",de,[pe,d(" "+o(a.truncate(t.titleParsed,100)),1)])),t.termLoading?(n(),h(w,{key:1,dark:""})):c("",!0),t.showEditTitle?c("",!0):(n(),h(T,{key:2,class:"pencil-icon",onClick:f(a.editTitle,["prevent"])},null,8,["onClick"]))])]),_:1})])):c("",!0),t.showEditTitle?(n(),g("div",ue,[p(_,{modelValue:t.title,"onUpdate:modelValue":s[0]||(s[0]=b=>t.title=b),"line-numbers":!1,single:"","tags-context":"taxonomyTitle",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["taxonomy_title"]},null,8,["modelValue"]),p(y,{type:"gray",size:"small",onClick:f(a.cancel,["prevent"])},{default:r(()=>[d(o(t.strings.discardChanges),1)]),_:1},8,["onClick"]),p(y,{type:"blue",size:"small",onClick:f(a.save,["prevent"])},{default:r(()=>[d(o(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0),t.showDescription?(n(),g("div",me,[p(k,{class:"aioseo-details-column__tooltip"},{tooltip:r(()=>[l("strong",null,o(t.strings.description)+":",1),d(" "+o(t.descriptionParsed),1)]),default:r(()=>[l("div",he,[l("strong",null,o(t.strings.description),1),t.showEditDescription?c("",!0):(n(),g("span",ge,[_e,d(" "+o(a.truncate(t.descriptionParsed)),1)])),t.termLoading?(n(),h(w,{key:1,dark:""})):c("",!0),t.showEditDescription?c("",!0):(n(),h(T,{key:2,class:"pencil-icon",onClick:f(a.editDescription,["prevent"])},null,8,["onClick"]))])]),_:1})])):c("",!0),t.showEditDescription?(n(),g("div",fe,[p(_,{modelValue:t.termDescription,"onUpdate:modelValue":s[1]||(s[1]=b=>t.termDescription=b),"line-numbers":!1,"tags-context":"taxonomyDescription",defaultMenuOrientation:"bottom",tagsDescription:"","default-tags":["taxonomy_description"]},null,8,["modelValue"]),p(y,{type:"gray",size:"small",onClick:f(a.cancel,["prevent"])},{default:r(()=>[d(o(t.strings.discardChanges),1)]),_:1},8,["onClick"]),p(y,{type:"blue",size:"small",onClick:f(a.save,["prevent"])},{default:r(()=>[d(o(t.strings.saveChanges),1)]),_:1},8,["onClick"])])):c("",!0)])],2)])}const ve=E(le,[["render",we]]);B();const N=J(),ye=O(),{posts:R}=window.aioseo,{$emit:Te}=window.aioseoBus,j=({page:e,result:s,loading:i})=>{window.aioseo.posts=window.aioseo.posts.map(m=>(m.page===e&&(m.inspectionResult=s,m.inspectionResultLoading=i,Te("updateInspectionResult"+m.id,m)),m))},ke=()=>{var t,a,w;const e=M.hasCoreFeature("search-statistics","index-status"),s=!N.unverifiedSite,i=typeof((w=(a=(t=ye.internalOptions.internal)==null?void 0:t.searchStatistics)==null?void 0:a.profile)==null?void 0:w.key)=="string",m=N.quotaExceeded.urlInspection;return e&&s&&i&&!m};if(R!=null&&R.length&&ke()){const e=Object.values(R).filter(s=>{var i;return s.isPostVisible&&(!s.inspectionResult||((i=s.inspectionResult)==null?void 0:i.length)===0)});e.length&&(e.forEach(s=>{j({page:s.page,result:s.inspectionResult,loading:!0})}),N.getInspectionResult({paths:e.map(s=>s.page)}).then(s=>{e.forEach(i=>{j({page:i.page,result:s[i.page],loading:!1})})}))}B();const st=e=>(e=rt(e),e=at(e),e=ct(e),B(e),e),it=e=>{const s=document.getElementById(e);s!=null&&s.__vue_app__&&s.__vue_app__.unmount()},ot=e=>{it(`${e.columnName}-${e.id}`),st(F({name:"Standalone/PostsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>q(ne)},{post:e})).mount(`#${e.columnName}-${e.id}`)},nt=e=>{if(!e)return;const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","aioseo-has-details-column"),s.setAttribute("value",!0),e.append(s)};window.aioseo.posts&&0<window.aioseo.posts.length&&D.post(L.restUrl("posts-list/load-details-column")).send({ids:window.aioseo.posts.map(e=>e.id)}).then(e=>{window.aioseo.posts=window.aioseo.posts.map(s=>({...s,...e.body.posts.find(i=>i.id===s.id)})),window.aioseo.posts.forEach(s=>{ot(s)})});const z=e=>{it(`${e.columnName}-${e.id}`),st(F({name:"Standalone/TermsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>q(ve)},{term:e})).mount(`#${e.columnName}-${e.id}`)};window.aioseo.terms&&0<window.aioseo.terms.length&&window.aioseo.posts.length===0&&D.post(L.restUrl("terms-list/load-details-column")).send({ids:window.aioseo.terms.map(e=>e.id)}).then(e=>{window.aioseo.terms=window.aioseo.terms.map(s=>({...s,...e.body.terms.find(i=>i.id===s.id)})),window.aioseo.terms.forEach(s=>{z(s)})});nt(document.querySelector("#inline-edit div"));nt(document.getElementById("addtag"));(function(e){e(document).on("ajaxComplete",(s,i,m)=>{var w,T;const t=new URLSearchParams(m.data),a=t==null?void 0:t.get("action");if(!(!t||!a)){if(a==="inline-save"){const{post_ID:k}=Object.fromEntries(t.entries()),_=window.aioseo.posts.find(y=>y.id===parseInt(k));ot({..._,reload:!0})}if(a==="inline-save-tax"){const{tax_ID:k}=Object.fromEntries(t.entries()),_=window.aioseo.terms.find(y=>y.id===parseInt(k));z({..._,reload:!0})}if(a==="add-tag"){const k=e(i.responseXML).find("term_id").text(),_=e(i.responseXML).find("term taxonomy").text(),y=O();z({id:parseInt(k),columnName:"aioseo-details",title:(w=y.dynamicOptions.searchAppearance.taxonomies[_])==null?void 0:w.title,description:(T=y.dynamicOptions.searchAppearance.taxonomies[_])==null?void 0:T.metaDescription,reload:!0})}}})})(window.jQuery);
